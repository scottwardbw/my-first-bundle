{"remainingRequest":"/Users/scott.ward/.npm/_npx/14895/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/scott.ward/.npm/_npx/14895/lib/node_modules/@vizia/app-emulator/node_modules/string_decoder/lib/string_decoder.js","dependencies":[{"path":"/Users/scott.ward/.npm/_npx/14895/lib/node_modules/@vizia/app-emulator/node_modules/string_decoder/lib/string_decoder.js","mtime":499162500000},{"path":"/Users/scott.ward/.npm/_npx/14895/lib/node_modules/@vizia/app-emulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scott.ward/.npm/_npx/14895/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuCi8vCi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhCi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUKLy8gIlNvZnR3YXJlIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZwovLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsCi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQKLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlCi8vIGZvbGxvd2luZyBjb25kaXRpb25zOgovLwovLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZAovLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KLy8KLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MKLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRgovLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOCi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLAovLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IKLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRQovLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgondXNlIHN0cmljdCc7Ci8qPHJlcGxhY2VtZW50PiovCgp2YXIgQnVmZmVyID0gcmVxdWlyZSgnc2FmZS1idWZmZXInKS5CdWZmZXI7Ci8qPC9yZXBsYWNlbWVudD4qLwoKCnZhciBpc0VuY29kaW5nID0gQnVmZmVyLmlzRW5jb2RpbmcgfHwgZnVuY3Rpb24gKGVuY29kaW5nKSB7CiAgZW5jb2RpbmcgPSAnJyArIGVuY29kaW5nOwoKICBzd2l0Y2ggKGVuY29kaW5nICYmIGVuY29kaW5nLnRvTG93ZXJDYXNlKCkpIHsKICAgIGNhc2UgJ2hleCc6CiAgICBjYXNlICd1dGY4JzoKICAgIGNhc2UgJ3V0Zi04JzoKICAgIGNhc2UgJ2FzY2lpJzoKICAgIGNhc2UgJ2JpbmFyeSc6CiAgICBjYXNlICdiYXNlNjQnOgogICAgY2FzZSAndWNzMic6CiAgICBjYXNlICd1Y3MtMic6CiAgICBjYXNlICd1dGYxNmxlJzoKICAgIGNhc2UgJ3V0Zi0xNmxlJzoKICAgIGNhc2UgJ3Jhdyc6CiAgICAgIHJldHVybiB0cnVlOwoKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiBmYWxzZTsKICB9Cn07CgpmdW5jdGlvbiBfbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7CiAgaWYgKCFlbmMpIHJldHVybiAndXRmOCc7CiAgdmFyIHJldHJpZWQ7CgogIHdoaWxlICh0cnVlKSB7CiAgICBzd2l0Y2ggKGVuYykgewogICAgICBjYXNlICd1dGY4JzoKICAgICAgY2FzZSAndXRmLTgnOgogICAgICAgIHJldHVybiAndXRmOCc7CgogICAgICBjYXNlICd1Y3MyJzoKICAgICAgY2FzZSAndWNzLTInOgogICAgICBjYXNlICd1dGYxNmxlJzoKICAgICAgY2FzZSAndXRmLTE2bGUnOgogICAgICAgIHJldHVybiAndXRmMTZsZSc7CgogICAgICBjYXNlICdsYXRpbjEnOgogICAgICBjYXNlICdiaW5hcnknOgogICAgICAgIHJldHVybiAnbGF0aW4xJzsKCiAgICAgIGNhc2UgJ2Jhc2U2NCc6CiAgICAgIGNhc2UgJ2FzY2lpJzoKICAgICAgY2FzZSAnaGV4JzoKICAgICAgICByZXR1cm4gZW5jOwoKICAgICAgZGVmYXVsdDoKICAgICAgICBpZiAocmV0cmllZCkgcmV0dXJuOyAvLyB1bmRlZmluZWQKCiAgICAgICAgZW5jID0gKCcnICsgZW5jKS50b0xvd2VyQ2FzZSgpOwogICAgICAgIHJldHJpZWQgPSB0cnVlOwogICAgfQogIH0KfQoKOyAvLyBEbyBub3QgY2FjaGUgYEJ1ZmZlci5pc0VuY29kaW5nYCB3aGVuIGNoZWNraW5nIGVuY29kaW5nIG5hbWVzIGFzIHNvbWUKLy8gbW9kdWxlcyBtb25rZXktcGF0Y2ggaXQgdG8gc3VwcG9ydCBhZGRpdGlvbmFsIGVuY29kaW5ncwoKZnVuY3Rpb24gbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7CiAgdmFyIG5lbmMgPSBfbm9ybWFsaXplRW5jb2RpbmcoZW5jKTsKCiAgaWYgKHR5cGVvZiBuZW5jICE9PSAnc3RyaW5nJyAmJiAoQnVmZmVyLmlzRW5jb2RpbmcgPT09IGlzRW5jb2RpbmcgfHwgIWlzRW5jb2RpbmcoZW5jKSkpIHRocm93IG5ldyBFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuYyk7CiAgcmV0dXJuIG5lbmMgfHwgZW5jOwp9IC8vIFN0cmluZ0RlY29kZXIgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIGZvciBlZmZpY2llbnRseSBzcGxpdHRpbmcgYSBzZXJpZXMgb2YKLy8gYnVmZmVycyBpbnRvIGEgc2VyaWVzIG9mIEpTIHN0cmluZ3Mgd2l0aG91dCBicmVha2luZyBhcGFydCBtdWx0aS1ieXRlCi8vIGNoYXJhY3RlcnMuCgoKZXhwb3J0cy5TdHJpbmdEZWNvZGVyID0gU3RyaW5nRGVjb2RlcjsKCmZ1bmN0aW9uIFN0cmluZ0RlY29kZXIoZW5jb2RpbmcpIHsKICB0aGlzLmVuY29kaW5nID0gbm9ybWFsaXplRW5jb2RpbmcoZW5jb2RpbmcpOwogIHZhciBuYjsKCiAgc3dpdGNoICh0aGlzLmVuY29kaW5nKSB7CiAgICBjYXNlICd1dGYxNmxlJzoKICAgICAgdGhpcy50ZXh0ID0gdXRmMTZUZXh0OwogICAgICB0aGlzLmVuZCA9IHV0ZjE2RW5kOwogICAgICBuYiA9IDQ7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3V0ZjgnOgogICAgICB0aGlzLmZpbGxMYXN0ID0gdXRmOEZpbGxMYXN0OwogICAgICBuYiA9IDQ7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ2Jhc2U2NCc6CiAgICAgIHRoaXMudGV4dCA9IGJhc2U2NFRleHQ7CiAgICAgIHRoaXMuZW5kID0gYmFzZTY0RW5kOwogICAgICBuYiA9IDM7CiAgICAgIGJyZWFrOwoKICAgIGRlZmF1bHQ6CiAgICAgIHRoaXMud3JpdGUgPSBzaW1wbGVXcml0ZTsKICAgICAgdGhpcy5lbmQgPSBzaW1wbGVFbmQ7CiAgICAgIHJldHVybjsKICB9CgogIHRoaXMubGFzdE5lZWQgPSAwOwogIHRoaXMubGFzdFRvdGFsID0gMDsKICB0aGlzLmxhc3RDaGFyID0gQnVmZmVyLmFsbG9jVW5zYWZlKG5iKTsKfQoKU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoYnVmKSB7CiAgaWYgKGJ1Zi5sZW5ndGggPT09IDApIHJldHVybiAnJzsKICB2YXIgcjsKICB2YXIgaTsKCiAgaWYgKHRoaXMubGFzdE5lZWQpIHsKICAgIHIgPSB0aGlzLmZpbGxMYXN0KGJ1Zik7CiAgICBpZiAociA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJyc7CiAgICBpID0gdGhpcy5sYXN0TmVlZDsKICAgIHRoaXMubGFzdE5lZWQgPSAwOwogIH0gZWxzZSB7CiAgICBpID0gMDsKICB9CgogIGlmIChpIDwgYnVmLmxlbmd0aCkgcmV0dXJuIHIgPyByICsgdGhpcy50ZXh0KGJ1ZiwgaSkgOiB0aGlzLnRleHQoYnVmLCBpKTsKICByZXR1cm4gciB8fCAnJzsKfTsKClN0cmluZ0RlY29kZXIucHJvdG90eXBlLmVuZCA9IHV0ZjhFbmQ7IC8vIFJldHVybnMgb25seSBjb21wbGV0ZSBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyCgpTdHJpbmdEZWNvZGVyLnByb3RvdHlwZS50ZXh0ID0gdXRmOFRleHQ7IC8vIEF0dGVtcHRzIHRvIGNvbXBsZXRlIGEgcGFydGlhbCBub24tVVRGLTggY2hhcmFjdGVyIHVzaW5nIGJ5dGVzIGZyb20gYSBCdWZmZXIKClN0cmluZ0RlY29kZXIucHJvdG90eXBlLmZpbGxMYXN0ID0gZnVuY3Rpb24gKGJ1ZikgewogIGlmICh0aGlzLmxhc3ROZWVkIDw9IGJ1Zi5sZW5ndGgpIHsKICAgIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIHRoaXMubGFzdFRvdGFsIC0gdGhpcy5sYXN0TmVlZCwgMCwgdGhpcy5sYXN0TmVlZCk7CiAgICByZXR1cm4gdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCAwLCB0aGlzLmxhc3RUb3RhbCk7CiAgfQoKICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQsIDAsIGJ1Zi5sZW5ndGgpOwogIHRoaXMubGFzdE5lZWQgLT0gYnVmLmxlbmd0aDsKfTsgLy8gQ2hlY2tzIHRoZSB0eXBlIG9mIGEgVVRGLTggYnl0ZSwgd2hldGhlciBpdCdzIEFTQ0lJLCBhIGxlYWRpbmcgYnl0ZSwgb3IgYQovLyBjb250aW51YXRpb24gYnl0ZS4gSWYgYW4gaW52YWxpZCBieXRlIGlzIGRldGVjdGVkLCAtMiBpcyByZXR1cm5lZC4KCgpmdW5jdGlvbiB1dGY4Q2hlY2tCeXRlKGJ5dGUpIHsKICBpZiAoYnl0ZSA8PSAweDdGKSByZXR1cm4gMDtlbHNlIGlmIChieXRlID4+IDUgPT09IDB4MDYpIHJldHVybiAyO2Vsc2UgaWYgKGJ5dGUgPj4gNCA9PT0gMHgwRSkgcmV0dXJuIDM7ZWxzZSBpZiAoYnl0ZSA+PiAzID09PSAweDFFKSByZXR1cm4gNDsKICByZXR1cm4gYnl0ZSA+PiA2ID09PSAweDAyID8gLTEgOiAtMjsKfSAvLyBDaGVja3MgYXQgbW9zdCAzIGJ5dGVzIGF0IHRoZSBlbmQgb2YgYSBCdWZmZXIgaW4gb3JkZXIgdG8gZGV0ZWN0IGFuCi8vIGluY29tcGxldGUgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIuIFRoZSB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgKDIsIDMsIG9yIDQpCi8vIG5lZWRlZCB0byBjb21wbGV0ZSB0aGUgVVRGLTggY2hhcmFjdGVyIChpZiBhcHBsaWNhYmxlKSBhcmUgcmV0dXJuZWQuCgoKZnVuY3Rpb24gdXRmOENoZWNrSW5jb21wbGV0ZShzZWxmLCBidWYsIGkpIHsKICB2YXIgaiA9IGJ1Zi5sZW5ndGggLSAxOwogIGlmIChqIDwgaSkgcmV0dXJuIDA7CiAgdmFyIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pOwoKICBpZiAobmIgPj0gMCkgewogICAgaWYgKG5iID4gMCkgc2VsZi5sYXN0TmVlZCA9IG5iIC0gMTsKICAgIHJldHVybiBuYjsKICB9CgogIGlmICgtLWogPCBpIHx8IG5iID09PSAtMikgcmV0dXJuIDA7CiAgbmIgPSB1dGY4Q2hlY2tCeXRlKGJ1ZltqXSk7CgogIGlmIChuYiA+PSAwKSB7CiAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAyOwogICAgcmV0dXJuIG5iOwogIH0KCiAgaWYgKC0taiA8IGkgfHwgbmIgPT09IC0yKSByZXR1cm4gMDsKICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTsKCiAgaWYgKG5iID49IDApIHsKICAgIGlmIChuYiA+IDApIHsKICAgICAgaWYgKG5iID09PSAyKSBuYiA9IDA7ZWxzZSBzZWxmLmxhc3ROZWVkID0gbmIgLSAzOwogICAgfQoKICAgIHJldHVybiBuYjsKICB9CgogIHJldHVybiAwOwp9IC8vIFZhbGlkYXRlcyBhcyBtYW55IGNvbnRpbnVhdGlvbiBieXRlcyBmb3IgYSBtdWx0aS1ieXRlIFVURi04IGNoYXJhY3RlciBhcwovLyBuZWVkZWQgb3IgYXJlIGF2YWlsYWJsZS4gSWYgd2Ugc2VlIGEgbm9uLWNvbnRpbnVhdGlvbiBieXRlIHdoZXJlIHdlIGV4cGVjdAovLyBvbmUsIHdlICJyZXBsYWNlIiB0aGUgdmFsaWRhdGVkIGNvbnRpbnVhdGlvbiBieXRlcyB3ZSd2ZSBzZWVuIHNvIGZhciB3aXRoCi8vIGEgc2luZ2xlIFVURi04IHJlcGxhY2VtZW50IGNoYXJhY3RlciAoJ1x1ZmZmZCcpLCB0byBtYXRjaCB2OCdzIFVURi04IGRlY29kaW5nCi8vIGJlaGF2aW9yLiBUaGUgY29udGludWF0aW9uIGJ5dGUgY2hlY2sgaXMgaW5jbHVkZWQgdGhyZWUgdGltZXMgaW4gdGhlIGNhc2UKLy8gd2hlcmUgYWxsIG9mIHRoZSBjb250aW51YXRpb24gYnl0ZXMgZm9yIGEgY2hhcmFjdGVyIGV4aXN0IGluIHRoZSBzYW1lIGJ1ZmZlci4KLy8gSXQgaXMgYWxzbyBkb25lIHRoaXMgd2F5IGFzIGEgc2xpZ2h0IHBlcmZvcm1hbmNlIGluY3JlYXNlIGluc3RlYWQgb2YgdXNpbmcgYQovLyBsb29wLgoKCmZ1bmN0aW9uIHV0ZjhDaGVja0V4dHJhQnl0ZXMoc2VsZiwgYnVmLCBwKSB7CiAgaWYgKChidWZbMF0gJiAweEMwKSAhPT0gMHg4MCkgewogICAgc2VsZi5sYXN0TmVlZCA9IDA7CiAgICByZXR1cm4gJ1x1ZmZmZCc7CiAgfQoKICBpZiAoc2VsZi5sYXN0TmVlZCA+IDEgJiYgYnVmLmxlbmd0aCA+IDEpIHsKICAgIGlmICgoYnVmWzFdICYgMHhDMCkgIT09IDB4ODApIHsKICAgICAgc2VsZi5sYXN0TmVlZCA9IDE7CiAgICAgIHJldHVybiAnXHVmZmZkJzsKICAgIH0KCiAgICBpZiAoc2VsZi5sYXN0TmVlZCA+IDIgJiYgYnVmLmxlbmd0aCA+IDIpIHsKICAgICAgaWYgKChidWZbMl0gJiAweEMwKSAhPT0gMHg4MCkgewogICAgICAgIHNlbGYubGFzdE5lZWQgPSAyOwogICAgICAgIHJldHVybiAnXHVmZmZkJzsKICAgICAgfQogICAgfQogIH0KfSAvLyBBdHRlbXB0cyB0byBjb21wbGV0ZSBhIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyIHVzaW5nIGJ5dGVzIGZyb20gYSBCdWZmZXIuCgoKZnVuY3Rpb24gdXRmOEZpbGxMYXN0KGJ1ZikgewogIHZhciBwID0gdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkOwogIHZhciByID0gdXRmOENoZWNrRXh0cmFCeXRlcyh0aGlzLCBidWYsIHApOwogIGlmIChyICE9PSB1bmRlZmluZWQpIHJldHVybiByOwoKICBpZiAodGhpcy5sYXN0TmVlZCA8PSBidWYubGVuZ3RoKSB7CiAgICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCBwLCAwLCB0aGlzLmxhc3ROZWVkKTsKICAgIHJldHVybiB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIHRoaXMubGFzdFRvdGFsKTsKICB9CgogIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIHAsIDAsIGJ1Zi5sZW5ndGgpOwogIHRoaXMubGFzdE5lZWQgLT0gYnVmLmxlbmd0aDsKfSAvLyBSZXR1cm5zIGFsbCBjb21wbGV0ZSBVVEYtOCBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyLiBJZiB0aGUgQnVmZmVyIGVuZGVkIG9uIGEKLy8gcGFydGlhbCBjaGFyYWN0ZXIsIHRoZSBjaGFyYWN0ZXIncyBieXRlcyBhcmUgYnVmZmVyZWQgdW50aWwgdGhlIHJlcXVpcmVkCi8vIG51bWJlciBvZiBieXRlcyBhcmUgYXZhaWxhYmxlLgoKCmZ1bmN0aW9uIHV0ZjhUZXh0KGJ1ZiwgaSkgewogIHZhciB0b3RhbCA9IHV0ZjhDaGVja0luY29tcGxldGUodGhpcywgYnVmLCBpKTsKICBpZiAoIXRoaXMubGFzdE5lZWQpIHJldHVybiBidWYudG9TdHJpbmcoJ3V0ZjgnLCBpKTsKICB0aGlzLmxhc3RUb3RhbCA9IHRvdGFsOwogIHZhciBlbmQgPSBidWYubGVuZ3RoIC0gKHRvdGFsIC0gdGhpcy5sYXN0TmVlZCk7CiAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgMCwgZW5kKTsKICByZXR1cm4gYnVmLnRvU3RyaW5nKCd1dGY4JywgaSwgZW5kKTsKfSAvLyBGb3IgVVRGLTgsIGEgcmVwbGFjZW1lbnQgY2hhcmFjdGVyIGlzIGFkZGVkIHdoZW4gZW5kaW5nIG9uIGEgcGFydGlhbAovLyBjaGFyYWN0ZXIuCgoKZnVuY3Rpb24gdXRmOEVuZChidWYpIHsKICB2YXIgciA9IGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7CiAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgJ1x1ZmZmZCc7CiAgcmV0dXJuIHI7Cn0gLy8gVVRGLTE2TEUgdHlwaWNhbGx5IG5lZWRzIHR3byBieXRlcyBwZXIgY2hhcmFjdGVyLCBidXQgZXZlbiBpZiB3ZSBoYXZlIGFuIGV2ZW4KLy8gbnVtYmVyIG9mIGJ5dGVzIGF2YWlsYWJsZSwgd2UgbmVlZCB0byBjaGVjayBpZiB3ZSBlbmQgb24gYSBsZWFkaW5nL2hpZ2gKLy8gc3Vycm9nYXRlLiBJbiB0aGF0IGNhc2UsIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIG5leHQgdHdvIGJ5dGVzIGluIG9yZGVyIHRvCi8vIGRlY29kZSB0aGUgbGFzdCBjaGFyYWN0ZXIgcHJvcGVybHkuCgoKZnVuY3Rpb24gdXRmMTZUZXh0KGJ1ZiwgaSkgewogIGlmICgoYnVmLmxlbmd0aCAtIGkpICUgMiA9PT0gMCkgewogICAgdmFyIHIgPSBidWYudG9TdHJpbmcoJ3V0ZjE2bGUnLCBpKTsKCiAgICBpZiAocikgewogICAgICB2YXIgYyA9IHIuY2hhckNvZGVBdChyLmxlbmd0aCAtIDEpOwoKICAgICAgaWYgKGMgPj0gMHhEODAwICYmIGMgPD0gMHhEQkZGKSB7CiAgICAgICAgdGhpcy5sYXN0TmVlZCA9IDI7CiAgICAgICAgdGhpcy5sYXN0VG90YWwgPSA0OwogICAgICAgIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDJdOwogICAgICAgIHRoaXMubGFzdENoYXJbMV0gPSBidWZbYnVmLmxlbmd0aCAtIDFdOwogICAgICAgIHJldHVybiByLnNsaWNlKDAsIC0xKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiByOwogIH0KCiAgdGhpcy5sYXN0TmVlZCA9IDE7CiAgdGhpcy5sYXN0VG90YWwgPSAyOwogIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDFdOwogIHJldHVybiBidWYudG9TdHJpbmcoJ3V0ZjE2bGUnLCBpLCBidWYubGVuZ3RoIC0gMSk7Cn0gLy8gRm9yIFVURi0xNkxFIHdlIGRvIG5vdCBleHBsaWNpdGx5IGFwcGVuZCBzcGVjaWFsIHJlcGxhY2VtZW50IGNoYXJhY3RlcnMgaWYgd2UKLy8gZW5kIG9uIGEgcGFydGlhbCBjaGFyYWN0ZXIsIHdlIHNpbXBseSBsZXQgdjggaGFuZGxlIHRoYXQuCgoKZnVuY3Rpb24gdXRmMTZFbmQoYnVmKSB7CiAgdmFyIHIgPSBidWYgJiYgYnVmLmxlbmd0aCA/IHRoaXMud3JpdGUoYnVmKSA6ICcnOwoKICBpZiAodGhpcy5sYXN0TmVlZCkgewogICAgdmFyIGVuZCA9IHRoaXMubGFzdFRvdGFsIC0gdGhpcy5sYXN0TmVlZDsKICAgIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygndXRmMTZsZScsIDAsIGVuZCk7CiAgfQoKICByZXR1cm4gcjsKfQoKZnVuY3Rpb24gYmFzZTY0VGV4dChidWYsIGkpIHsKICB2YXIgbiA9IChidWYubGVuZ3RoIC0gaSkgJSAzOwogIGlmIChuID09PSAwKSByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnLCBpKTsKICB0aGlzLmxhc3ROZWVkID0gMyAtIG47CiAgdGhpcy5sYXN0VG90YWwgPSAzOwoKICBpZiAobiA9PT0gMSkgewogICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07CiAgfSBlbHNlIHsKICAgIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDJdOwogICAgdGhpcy5sYXN0Q2hhclsxXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07CiAgfQoKICByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnLCBpLCBidWYubGVuZ3RoIC0gbik7Cn0KCmZ1bmN0aW9uIGJhc2U2NEVuZChidWYpIHsKICB2YXIgciA9IGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7CiAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygnYmFzZTY0JywgMCwgMyAtIHRoaXMubGFzdE5lZWQpOwogIHJldHVybiByOwp9IC8vIFBhc3MgYnl0ZXMgb24gdGhyb3VnaCBmb3Igc2luZ2xlLWJ5dGUgZW5jb2RpbmdzIChlLmcuIGFzY2lpLCBsYXRpbjEsIGhleCkKCgpmdW5jdGlvbiBzaW1wbGVXcml0ZShidWYpIHsKICByZXR1cm4gYnVmLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpOwp9CgpmdW5jdGlvbiBzaW1wbGVFbmQoYnVmKSB7CiAgcmV0dXJuIGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7Cn0="},{"version":3,"sources":["/Users/scott.ward/.npm/_npx/14895/lib/node_modules/@vizia/app-emulator/node_modules/string_decoder/lib/string_decoder.js"],"names":["Buffer","require","isEncoding","encoding","toLowerCase","_normalizeEncoding","enc","retried","normalizeEncoding","nenc","Error","exports","StringDecoder","nb","text","utf16Text","end","utf16End","fillLast","utf8FillLast","base64Text","base64End","write","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","allocUnsafe","prototype","buf","length","r","i","undefined","utf8End","utf8Text","copy","toString","utf8CheckByte","byte","utf8CheckIncomplete","self","j","utf8CheckExtraBytes","p","total","c","charCodeAt","slice","n"],"mappings":"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","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}"]}]}