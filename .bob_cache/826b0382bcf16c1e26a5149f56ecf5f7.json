{"remainingRequest":"/Users/scott.ward/.npm/_npx/6842/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/scott.ward/Documents/GitHub/my-first-bundle/node_modules/concat-stream/index.js","dependencies":[{"path":"/Users/scott.ward/Documents/GitHub/my-first-bundle/node_modules/concat-stream/index.js","mtime":1629972623055},{"path":"/Users/scott.ward/.npm/_npx/6842/lib/node_modules/@vizia/app-emulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scott.ward/.npm/_npx/6842/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIFdyaXRhYmxlID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtJykuV3JpdGFibGU7Cgp2YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpOwoKdmFyIGJ1ZmZlckZyb20gPSByZXF1aXJlKCdidWZmZXItZnJvbScpOwoKaWYgKHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJykgewogIHZhciBVOCA9IHJlcXVpcmUoJ3R5cGVkYXJyYXknKS5VaW50OEFycmF5Owp9IGVsc2UgewogIHZhciBVOCA9IFVpbnQ4QXJyYXk7Cn0KCmZ1bmN0aW9uIENvbmNhdFN0cmVhbShvcHRzLCBjYikgewogIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb25jYXRTdHJlYW0pKSByZXR1cm4gbmV3IENvbmNhdFN0cmVhbShvcHRzLCBjYik7CgogIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykgewogICAgY2IgPSBvcHRzOwogICAgb3B0cyA9IHt9OwogIH0KCiAgaWYgKCFvcHRzKSBvcHRzID0ge307CiAgdmFyIGVuY29kaW5nID0gb3B0cy5lbmNvZGluZzsKICB2YXIgc2hvdWxkSW5mZXJFbmNvZGluZyA9IGZhbHNlOwoKICBpZiAoIWVuY29kaW5nKSB7CiAgICBzaG91bGRJbmZlckVuY29kaW5nID0gdHJ1ZTsKICB9IGVsc2UgewogICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKGVuY29kaW5nID09PSAndTgnIHx8IGVuY29kaW5nID09PSAndWludDgnKSB7CiAgICAgIGVuY29kaW5nID0gJ3VpbnQ4YXJyYXknOwogICAgfQogIH0KCiAgV3JpdGFibGUuY2FsbCh0aGlzLCB7CiAgICBvYmplY3RNb2RlOiB0cnVlCiAgfSk7CiAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwogIHRoaXMuc2hvdWxkSW5mZXJFbmNvZGluZyA9IHNob3VsZEluZmVyRW5jb2Rpbmc7CiAgaWYgKGNiKSB0aGlzLm9uKCdmaW5pc2gnLCBmdW5jdGlvbiAoKSB7CiAgICBjYih0aGlzLmdldEJvZHkoKSk7CiAgfSk7CiAgdGhpcy5ib2R5ID0gW107Cn0KCm1vZHVsZS5leHBvcnRzID0gQ29uY2F0U3RyZWFtOwppbmhlcml0cyhDb25jYXRTdHJlYW0sIFdyaXRhYmxlKTsKCkNvbmNhdFN0cmVhbS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmMsIG5leHQpIHsKICB0aGlzLmJvZHkucHVzaChjaHVuayk7CiAgbmV4dCgpOwp9OwoKQ29uY2F0U3RyZWFtLnByb3RvdHlwZS5pbmZlckVuY29kaW5nID0gZnVuY3Rpb24gKGJ1ZmYpIHsKICB2YXIgZmlyc3RCdWZmZXIgPSBidWZmID09PSB1bmRlZmluZWQgPyB0aGlzLmJvZHlbMF0gOiBidWZmOwogIGlmIChCdWZmZXIuaXNCdWZmZXIoZmlyc3RCdWZmZXIpKSByZXR1cm4gJ2J1ZmZlcic7CiAgaWYgKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiBmaXJzdEJ1ZmZlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHJldHVybiAndWludDhhcnJheSc7CiAgaWYgKEFycmF5LmlzQXJyYXkoZmlyc3RCdWZmZXIpKSByZXR1cm4gJ2FycmF5JzsKICBpZiAodHlwZW9mIGZpcnN0QnVmZmVyID09PSAnc3RyaW5nJykgcmV0dXJuICdzdHJpbmcnOwogIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZmlyc3RCdWZmZXIpID09PSAiW29iamVjdCBPYmplY3RdIikgcmV0dXJuICdvYmplY3QnOwogIHJldHVybiAnYnVmZmVyJzsKfTsKCkNvbmNhdFN0cmVhbS5wcm90b3R5cGUuZ2V0Qm9keSA9IGZ1bmN0aW9uICgpIHsKICBpZiAoIXRoaXMuZW5jb2RpbmcgJiYgdGhpcy5ib2R5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdOwogIGlmICh0aGlzLnNob3VsZEluZmVyRW5jb2RpbmcpIHRoaXMuZW5jb2RpbmcgPSB0aGlzLmluZmVyRW5jb2RpbmcoKTsKICBpZiAodGhpcy5lbmNvZGluZyA9PT0gJ2FycmF5JykgcmV0dXJuIGFycmF5Q29uY2F0KHRoaXMuYm9keSk7CiAgaWYgKHRoaXMuZW5jb2RpbmcgPT09ICdzdHJpbmcnKSByZXR1cm4gc3RyaW5nQ29uY2F0KHRoaXMuYm9keSk7CiAgaWYgKHRoaXMuZW5jb2RpbmcgPT09ICdidWZmZXInKSByZXR1cm4gYnVmZmVyQ29uY2F0KHRoaXMuYm9keSk7CiAgaWYgKHRoaXMuZW5jb2RpbmcgPT09ICd1aW50OGFycmF5JykgcmV0dXJuIHU4Q29uY2F0KHRoaXMuYm9keSk7CiAgcmV0dXJuIHRoaXMuYm9keTsKfTsKCnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7CiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7Cn07CgpmdW5jdGlvbiBpc0FycmF5aXNoKGFycikgewogIHJldHVybiAvQXJyYXlcXSQvLnRlc3QoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikpOwp9CgpmdW5jdGlvbiBpc0J1ZmZlcmlzaChwKSB7CiAgcmV0dXJuIHR5cGVvZiBwID09PSAnc3RyaW5nJyB8fCBpc0FycmF5aXNoKHApIHx8IHAgJiYgdHlwZW9mIHAuc3ViYXJyYXkgPT09ICdmdW5jdGlvbic7Cn0KCmZ1bmN0aW9uIHN0cmluZ0NvbmNhdChwYXJ0cykgewogIHZhciBzdHJpbmdzID0gW107CiAgdmFyIG5lZWRzVG9TdHJpbmcgPSBmYWxzZTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHAgPSBwYXJ0c1tpXTsKCiAgICBpZiAodHlwZW9mIHAgPT09ICdzdHJpbmcnKSB7CiAgICAgIHN0cmluZ3MucHVzaChwKTsKICAgIH0gZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKHApKSB7CiAgICAgIHN0cmluZ3MucHVzaChwKTsKICAgIH0gZWxzZSBpZiAoaXNCdWZmZXJpc2gocCkpIHsKICAgICAgc3RyaW5ncy5wdXNoKGJ1ZmZlckZyb20ocCkpOwogICAgfSBlbHNlIHsKICAgICAgc3RyaW5ncy5wdXNoKGJ1ZmZlckZyb20oU3RyaW5nKHApKSk7CiAgICB9CiAgfQoKICBpZiAoQnVmZmVyLmlzQnVmZmVyKHBhcnRzWzBdKSkgewogICAgc3RyaW5ncyA9IEJ1ZmZlci5jb25jYXQoc3RyaW5ncyk7CiAgICBzdHJpbmdzID0gc3RyaW5ncy50b1N0cmluZygndXRmOCcpOwogIH0gZWxzZSB7CiAgICBzdHJpbmdzID0gc3RyaW5ncy5qb2luKCcnKTsKICB9CgogIHJldHVybiBzdHJpbmdzOwp9CgpmdW5jdGlvbiBidWZmZXJDb25jYXQocGFydHMpIHsKICB2YXIgYnVmcyA9IFtdOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgcCA9IHBhcnRzW2ldOwoKICAgIGlmIChCdWZmZXIuaXNCdWZmZXIocCkpIHsKICAgICAgYnVmcy5wdXNoKHApOwogICAgfSBlbHNlIGlmIChpc0J1ZmZlcmlzaChwKSkgewogICAgICBidWZzLnB1c2goYnVmZmVyRnJvbShwKSk7CiAgICB9IGVsc2UgewogICAgICBidWZzLnB1c2goYnVmZmVyRnJvbShTdHJpbmcocCkpKTsKICAgIH0KICB9CgogIHJldHVybiBCdWZmZXIuY29uY2F0KGJ1ZnMpOwp9CgpmdW5jdGlvbiBhcnJheUNvbmNhdChwYXJ0cykgewogIHZhciByZXMgPSBbXTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykgewogICAgcmVzLnB1c2guYXBwbHkocmVzLCBwYXJ0c1tpXSk7CiAgfQoKICByZXR1cm4gcmVzOwp9CgpmdW5jdGlvbiB1OENvbmNhdChwYXJ0cykgewogIHZhciBsZW4gPSAwOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7CiAgICBpZiAodHlwZW9mIHBhcnRzW2ldID09PSAnc3RyaW5nJykgewogICAgICBwYXJ0c1tpXSA9IGJ1ZmZlckZyb20ocGFydHNbaV0pOwogICAgfQoKICAgIGxlbiArPSBwYXJ0c1tpXS5sZW5ndGg7CiAgfQoKICB2YXIgdTggPSBuZXcgVTgobGVuKTsKCiAgZm9yICh2YXIgaSA9IDAsIG9mZnNldCA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTsKCiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhcnQubGVuZ3RoOyBqKyspIHsKICAgICAgdThbb2Zmc2V0KytdID0gcGFydFtqXTsKICAgIH0KICB9CgogIHJldHVybiB1ODsKfQ=="},{"version":3,"sources":["/Users/scott.ward/Documents/GitHub/my-first-bundle/node_modules/concat-stream/index.js"],"names":["Writable","require","inherits","bufferFrom","Uint8Array","U8","ConcatStream","opts","cb","encoding","shouldInferEncoding","String","toLowerCase","call","objectMode","on","getBody","body","module","exports","prototype","_write","chunk","enc","next","push","inferEncoding","buff","firstBuffer","undefined","Buffer","isBuffer","Array","isArray","Object","toString","length","arrayConcat","stringConcat","bufferConcat","u8Concat","arr","isArrayish","test","isBufferish","p","subarray","parts","strings","needsToString","i","concat","join","bufs","res","apply","len","u8","offset","part","j"],"mappings":"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","sourcesContent":["var Writable = require('readable-stream').Writable\nvar inherits = require('inherits')\nvar bufferFrom = require('buffer-from')\n\nif (typeof Uint8Array === 'undefined') {\n  var U8 = require('typedarray').Uint8Array\n} else {\n  var U8 = Uint8Array\n}\n\nfunction ConcatStream(opts, cb) {\n  if (!(this instanceof ConcatStream)) return new ConcatStream(opts, cb)\n\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n  if (!opts) opts = {}\n\n  var encoding = opts.encoding\n  var shouldInferEncoding = false\n\n  if (!encoding) {\n    shouldInferEncoding = true\n  } else {\n    encoding =  String(encoding).toLowerCase()\n    if (encoding === 'u8' || encoding === 'uint8') {\n      encoding = 'uint8array'\n    }\n  }\n\n  Writable.call(this, { objectMode: true })\n\n  this.encoding = encoding\n  this.shouldInferEncoding = shouldInferEncoding\n\n  if (cb) this.on('finish', function () { cb(this.getBody()) })\n  this.body = []\n}\n\nmodule.exports = ConcatStream\ninherits(ConcatStream, Writable)\n\nConcatStream.prototype._write = function(chunk, enc, next) {\n  this.body.push(chunk)\n  next()\n}\n\nConcatStream.prototype.inferEncoding = function (buff) {\n  var firstBuffer = buff === undefined ? this.body[0] : buff;\n  if (Buffer.isBuffer(firstBuffer)) return 'buffer'\n  if (typeof Uint8Array !== 'undefined' && firstBuffer instanceof Uint8Array) return 'uint8array'\n  if (Array.isArray(firstBuffer)) return 'array'\n  if (typeof firstBuffer === 'string') return 'string'\n  if (Object.prototype.toString.call(firstBuffer) === \"[object Object]\") return 'object'\n  return 'buffer'\n}\n\nConcatStream.prototype.getBody = function () {\n  if (!this.encoding && this.body.length === 0) return []\n  if (this.shouldInferEncoding) this.encoding = this.inferEncoding()\n  if (this.encoding === 'array') return arrayConcat(this.body)\n  if (this.encoding === 'string') return stringConcat(this.body)\n  if (this.encoding === 'buffer') return bufferConcat(this.body)\n  if (this.encoding === 'uint8array') return u8Concat(this.body)\n  return this.body\n}\n\nvar isArray = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]'\n}\n\nfunction isArrayish (arr) {\n  return /Array\\]$/.test(Object.prototype.toString.call(arr))\n}\n\nfunction isBufferish (p) {\n  return typeof p === 'string' || isArrayish(p) || (p && typeof p.subarray === 'function')\n}\n\nfunction stringConcat (parts) {\n  var strings = []\n  var needsToString = false\n  for (var i = 0; i < parts.length; i++) {\n    var p = parts[i]\n    if (typeof p === 'string') {\n      strings.push(p)\n    } else if (Buffer.isBuffer(p)) {\n      strings.push(p)\n    } else if (isBufferish(p)) {\n      strings.push(bufferFrom(p))\n    } else {\n      strings.push(bufferFrom(String(p)))\n    }\n  }\n  if (Buffer.isBuffer(parts[0])) {\n    strings = Buffer.concat(strings)\n    strings = strings.toString('utf8')\n  } else {\n    strings = strings.join('')\n  }\n  return strings\n}\n\nfunction bufferConcat (parts) {\n  var bufs = []\n  for (var i = 0; i < parts.length; i++) {\n    var p = parts[i]\n    if (Buffer.isBuffer(p)) {\n      bufs.push(p)\n    } else if (isBufferish(p)) {\n      bufs.push(bufferFrom(p))\n    } else {\n      bufs.push(bufferFrom(String(p)))\n    }\n  }\n  return Buffer.concat(bufs)\n}\n\nfunction arrayConcat (parts) {\n  var res = []\n  for (var i = 0; i < parts.length; i++) {\n    res.push.apply(res, parts[i])\n  }\n  return res\n}\n\nfunction u8Concat (parts) {\n  var len = 0\n  for (var i = 0; i < parts.length; i++) {\n    if (typeof parts[i] === 'string') {\n      parts[i] = bufferFrom(parts[i])\n    }\n    len += parts[i].length\n  }\n  var u8 = new U8(len)\n  for (var i = 0, offset = 0; i < parts.length; i++) {\n    var part = parts[i]\n    for (var j = 0; j < part.length; j++) {\n      u8[offset++] = part[j]\n    }\n  }\n  return u8\n}\n"]}]}