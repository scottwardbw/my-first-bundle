{"remainingRequest":"/Users/scott.ward/.npm/_npx/5239/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/scott.ward/Documents/GitHub/my-first-bundle/node_modules/typedarray/index.js","dependencies":[{"path":"/Users/scott.ward/Documents/GitHub/my-first-bundle/node_modules/typedarray/index.js","mtime":1629972623149},{"path":"/Users/scott.ward/.npm/_npx/5239/lib/node_modules/@vizia/app-emulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scott.ward/.npm/_npx/5239/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHVuZGVmaW5lZCA9IHZvaWQgMDsgLy8gUGFyYW5vaWEKLy8gQmV5b25kIHRoaXMgdmFsdWUsIGluZGV4IGdldHRlcnMvc2V0dGVycyAoaS5lLiBhcnJheVswXSwgYXJyYXlbMV0pIGFyZSBzbyBzbG93IHRvCi8vIGNyZWF0ZSwgYW5kIGNvbnN1bWUgc28gbXVjaCBtZW1vcnksIHRoYXQgdGhlIGJyb3dzZXIgYXBwZWFycyBmcm96ZW4uCgp2YXIgTUFYX0FSUkFZX0xFTkdUSCA9IDFlNTsgLy8gQXBwcm94aW1hdGlvbnMgb2YgaW50ZXJuYWwgRUNNQVNjcmlwdCBjb252ZXJzaW9uIGZ1bmN0aW9ucwoKdmFyIEVDTUFTY3JpcHQgPSBmdW5jdGlvbiAoKSB7CiAgLy8gU3Rhc2ggYSBjb3B5IGluIGNhc2Ugb3RoZXIgc2NyaXB0cyBtb2RpZnkgdGhlc2UKICB2YXIgb3B0cyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsCiAgICAgIG9waG9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTsKICByZXR1cm4gewogICAgLy8gQ2xhc3MgcmV0dXJucyBpbnRlcm5hbCBbW0NsYXNzXV0gcHJvcGVydHksIHVzZWQgdG8gYXZvaWQgY3Jvc3MtZnJhbWUgaW5zdGFuY2VvZiBpc3N1ZXM6CiAgICBDbGFzczogZnVuY3Rpb24gKHYpIHsKICAgICAgcmV0dXJuIG9wdHMuY2FsbCh2KS5yZXBsYWNlKC9eXFtvYmplY3QgKnxcXSQvZywgJycpOwogICAgfSwKICAgIEhhc1Byb3BlcnR5OiBmdW5jdGlvbiAobywgcCkgewogICAgICByZXR1cm4gcCBpbiBvOwogICAgfSwKICAgIEhhc093blByb3BlcnR5OiBmdW5jdGlvbiAobywgcCkgewogICAgICByZXR1cm4gb3Bob3AuY2FsbChvLCBwKTsKICAgIH0sCiAgICBJc0NhbGxhYmxlOiBmdW5jdGlvbiAobykgewogICAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdmdW5jdGlvbic7CiAgICB9LAogICAgVG9JbnQzMjogZnVuY3Rpb24gKHYpIHsKICAgICAgcmV0dXJuIHYgPj4gMDsKICAgIH0sCiAgICBUb1VpbnQzMjogZnVuY3Rpb24gKHYpIHsKICAgICAgcmV0dXJuIHYgPj4+IDA7CiAgICB9CiAgfTsKfSgpOyAvLyBTbmFwc2hvdCBpbnRyaW5zaWNzCgoKdmFyIExOMiA9IE1hdGguTE4yLAogICAgYWJzID0gTWF0aC5hYnMsCiAgICBmbG9vciA9IE1hdGguZmxvb3IsCiAgICBsb2cgPSBNYXRoLmxvZywKICAgIG1pbiA9IE1hdGgubWluLAogICAgcG93ID0gTWF0aC5wb3csCiAgICByb3VuZCA9IE1hdGgucm91bmQ7IC8vIEVTNTogbG9jayBkb3duIG9iamVjdCBwcm9wZXJ0aWVzCgpmdW5jdGlvbiBjb25maWd1cmVQcm9wZXJ0aWVzKG9iaikgewogIGlmIChnZXRPd25Qcm9wTmFtZXMgJiYgZGVmaW5lUHJvcCkgewogICAgdmFyIHByb3BzID0gZ2V0T3duUHJvcE5hbWVzKG9iaiksCiAgICAgICAgaTsKCiAgICBmb3IgKGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgZGVmaW5lUHJvcChvYmosIHByb3BzW2ldLCB7CiAgICAgICAgdmFsdWU6IG9ialtwcm9wc1tpXV0sCiAgICAgICAgd3JpdGFibGU6IGZhbHNlLAogICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UKICAgICAgfSk7CiAgICB9CiAgfQp9IC8vIGVtdWxhdGUgRVM1IGdldHRlci9zZXR0ZXIgQVBJIHVzaW5nIGxlZ2FjeSBBUElzCi8vIGh0dHA6Ly9ibG9ncy5tc2RuLmNvbS9iL2llL2FyY2hpdmUvMjAxMC8wOS8wNy90cmFuc2l0aW9uaW5nLWV4aXN0aW5nLWNvZGUtdG8tdGhlLWVzNS1nZXR0ZXItc2V0dGVyLWFwaXMuYXNweAovLyAoc2Vjb25kIGNsYXVzZSB0ZXN0cyBmb3IgT2JqZWN0LmRlZmluZVByb3BlcnR5KCkgaW4gSUU8OSB0aGF0IG9ubHkgc3VwcG9ydHMgZXh0ZW5kaW5nIERPTSBwcm90b3R5cGVzLCBidXQKLy8gbm90ZSB0aGF0IElFPDkgZG9lcyBub3Qgc3VwcG9ydCBfX2RlZmluZUdldHRlcl9fIG9yIF9fZGVmaW5lU2V0dGVyX18gc28gaXQganVzdCByZW5kZXJzIHRoZSBtZXRob2QgaGFybWxlc3MpCgoKdmFyIGRlZmluZVByb3A7CgppZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIGZ1bmN0aW9uICgpIHsKICB0cnkgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAneCcsIHt9KTsKICAgIHJldHVybiB0cnVlOwogIH0gY2F0Y2ggKGUpIHsKICAgIHJldHVybiBmYWxzZTsKICB9Cn0oKSkgewogIGRlZmluZVByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7Cn0gZWxzZSB7CiAgZGVmaW5lUHJvcCA9IGZ1bmN0aW9uIChvLCBwLCBkZXNjKSB7CiAgICBpZiAoIW8gPT09IE9iamVjdChvKSkgdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmRlZmluZVByb3BlcnR5IGNhbGxlZCBvbiBub24tb2JqZWN0Iik7CgogICAgaWYgKEVDTUFTY3JpcHQuSGFzUHJvcGVydHkoZGVzYywgJ2dldCcpICYmIE9iamVjdC5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXykgewogICAgICBPYmplY3QucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18uY2FsbChvLCBwLCBkZXNjLmdldCk7CiAgICB9CgogICAgaWYgKEVDTUFTY3JpcHQuSGFzUHJvcGVydHkoZGVzYywgJ3NldCcpICYmIE9iamVjdC5wcm90b3R5cGUuX19kZWZpbmVTZXR0ZXJfXykgewogICAgICBPYmplY3QucHJvdG90eXBlLl9fZGVmaW5lU2V0dGVyX18uY2FsbChvLCBwLCBkZXNjLnNldCk7CiAgICB9CgogICAgaWYgKEVDTUFTY3JpcHQuSGFzUHJvcGVydHkoZGVzYywgJ3ZhbHVlJykpIHsKICAgICAgb1twXSA9IGRlc2MudmFsdWU7CiAgICB9CgogICAgcmV0dXJuIG87CiAgfTsKfQoKdmFyIGdldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIChvKSB7CiAgaWYgKG8gIT09IE9iamVjdChvKSkgdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgY2FsbGVkIG9uIG5vbi1vYmplY3QiKTsKICB2YXIgcHJvcHMgPSBbXSwKICAgICAgcDsKCiAgZm9yIChwIGluIG8pIHsKICAgIGlmIChFQ01BU2NyaXB0Lkhhc093blByb3BlcnR5KG8sIHApKSB7CiAgICAgIHByb3BzLnB1c2gocCk7CiAgICB9CiAgfQoKICByZXR1cm4gcHJvcHM7Cn07IC8vIEVTNTogTWFrZSBvYmpbaW5kZXhdIGFuIGFsaWFzIGZvciBvYmouX2dldHRlcihpbmRleCkvb2JqLl9zZXR0ZXIoaW5kZXgsIHZhbHVlKQovLyBmb3IgaW5kZXggaW4gMCAuLi4gb2JqLmxlbmd0aAoKCmZ1bmN0aW9uIG1ha2VBcnJheUFjY2Vzc29ycyhvYmopIHsKICBpZiAoIWRlZmluZVByb3ApIHsKICAgIHJldHVybjsKICB9CgogIGlmIChvYmoubGVuZ3RoID4gTUFYX0FSUkFZX0xFTkdUSCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkFycmF5IHRvbyBsYXJnZSBmb3IgcG9seWZpbGwiKTsKCiAgZnVuY3Rpb24gbWFrZUFycmF5QWNjZXNzb3IoaW5kZXgpIHsKICAgIGRlZmluZVByb3Aob2JqLCBpbmRleCwgewogICAgICAnZ2V0JzogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBvYmouX2dldHRlcihpbmRleCk7CiAgICAgIH0sCiAgICAgICdzZXQnOiBmdW5jdGlvbiAodikgewogICAgICAgIG9iai5fc2V0dGVyKGluZGV4LCB2KTsKICAgICAgfSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiBmYWxzZQogICAgfSk7CiAgfQoKICB2YXIgaTsKCiAgZm9yIChpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkgKz0gMSkgewogICAgbWFrZUFycmF5QWNjZXNzb3IoaSk7CiAgfQp9IC8vIEludGVybmFsIGNvbnZlcnNpb24gZnVuY3Rpb25zOgovLyAgICBwYWNrPFR5cGU+KCkgICAtIHRha2UgYSBudW1iZXIgKGludGVycHJldGVkIGFzIFR5cGUpLCBvdXRwdXQgYSBieXRlIGFycmF5Ci8vICAgIHVucGFjazxUeXBlPigpIC0gdGFrZSBhIGJ5dGUgYXJyYXksIG91dHB1dCBhIFR5cGUtbGlrZSBudW1iZXIKCgpmdW5jdGlvbiBhc19zaWduZWQodmFsdWUsIGJpdHMpIHsKICB2YXIgcyA9IDMyIC0gYml0czsKICByZXR1cm4gdmFsdWUgPDwgcyA+PiBzOwp9CgpmdW5jdGlvbiBhc191bnNpZ25lZCh2YWx1ZSwgYml0cykgewogIHZhciBzID0gMzIgLSBiaXRzOwogIHJldHVybiB2YWx1ZSA8PCBzID4+PiBzOwp9CgpmdW5jdGlvbiBwYWNrSTgobikgewogIHJldHVybiBbbiAmIDB4ZmZdOwp9CgpmdW5jdGlvbiB1bnBhY2tJOChieXRlcykgewogIHJldHVybiBhc19zaWduZWQoYnl0ZXNbMF0sIDgpOwp9CgpmdW5jdGlvbiBwYWNrVTgobikgewogIHJldHVybiBbbiAmIDB4ZmZdOwp9CgpmdW5jdGlvbiB1bnBhY2tVOChieXRlcykgewogIHJldHVybiBhc191bnNpZ25lZChieXRlc1swXSwgOCk7Cn0KCmZ1bmN0aW9uIHBhY2tVOENsYW1wZWQobikgewogIG4gPSByb3VuZChOdW1iZXIobikpOwogIHJldHVybiBbbiA8IDAgPyAwIDogbiA+IDB4ZmYgPyAweGZmIDogbiAmIDB4ZmZdOwp9CgpmdW5jdGlvbiBwYWNrSTE2KG4pIHsKICByZXR1cm4gW24gPj4gOCAmIDB4ZmYsIG4gJiAweGZmXTsKfQoKZnVuY3Rpb24gdW5wYWNrSTE2KGJ5dGVzKSB7CiAgcmV0dXJuIGFzX3NpZ25lZChieXRlc1swXSA8PCA4IHwgYnl0ZXNbMV0sIDE2KTsKfQoKZnVuY3Rpb24gcGFja1UxNihuKSB7CiAgcmV0dXJuIFtuID4+IDggJiAweGZmLCBuICYgMHhmZl07Cn0KCmZ1bmN0aW9uIHVucGFja1UxNihieXRlcykgewogIHJldHVybiBhc191bnNpZ25lZChieXRlc1swXSA8PCA4IHwgYnl0ZXNbMV0sIDE2KTsKfQoKZnVuY3Rpb24gcGFja0kzMihuKSB7CiAgcmV0dXJuIFtuID4+IDI0ICYgMHhmZiwgbiA+PiAxNiAmIDB4ZmYsIG4gPj4gOCAmIDB4ZmYsIG4gJiAweGZmXTsKfQoKZnVuY3Rpb24gdW5wYWNrSTMyKGJ5dGVzKSB7CiAgcmV0dXJuIGFzX3NpZ25lZChieXRlc1swXSA8PCAyNCB8IGJ5dGVzWzFdIDw8IDE2IHwgYnl0ZXNbMl0gPDwgOCB8IGJ5dGVzWzNdLCAzMik7Cn0KCmZ1bmN0aW9uIHBhY2tVMzIobikgewogIHJldHVybiBbbiA+PiAyNCAmIDB4ZmYsIG4gPj4gMTYgJiAweGZmLCBuID4+IDggJiAweGZmLCBuICYgMHhmZl07Cn0KCmZ1bmN0aW9uIHVucGFja1UzMihieXRlcykgewogIHJldHVybiBhc191bnNpZ25lZChieXRlc1swXSA8PCAyNCB8IGJ5dGVzWzFdIDw8IDE2IHwgYnl0ZXNbMl0gPDwgOCB8IGJ5dGVzWzNdLCAzMik7Cn0KCmZ1bmN0aW9uIHBhY2tJRUVFNzU0KHYsIGViaXRzLCBmYml0cykgewogIHZhciBiaWFzID0gKDEgPDwgZWJpdHMgLSAxKSAtIDEsCiAgICAgIHMsCiAgICAgIGUsCiAgICAgIGYsCiAgICAgIGxuLAogICAgICBpLAogICAgICBiaXRzLAogICAgICBzdHIsCiAgICAgIGJ5dGVzOwoKICBmdW5jdGlvbiByb3VuZFRvRXZlbihuKSB7CiAgICB2YXIgdyA9IGZsb29yKG4pLAogICAgICAgIGYgPSBuIC0gdzsKICAgIGlmIChmIDwgMC41KSByZXR1cm4gdzsKICAgIGlmIChmID4gMC41KSByZXR1cm4gdyArIDE7CiAgICByZXR1cm4gdyAlIDIgPyB3ICsgMSA6IHc7CiAgfSAvLyBDb21wdXRlIHNpZ24sIGV4cG9uZW50LCBmcmFjdGlvbgoKCiAgaWYgKHYgIT09IHYpIHsKICAgIC8vIE5hTgogICAgLy8gaHR0cDovL2Rldi53My5vcmcvMjAwNi93ZWJhcGkvV2ViSURMLyNlcy10eXBlLW1hcHBpbmcKICAgIGUgPSAoMSA8PCBlYml0cykgLSAxOwogICAgZiA9IHBvdygyLCBmYml0cyAtIDEpOwogICAgcyA9IDA7CiAgfSBlbHNlIGlmICh2ID09PSBJbmZpbml0eSB8fCB2ID09PSAtSW5maW5pdHkpIHsKICAgIGUgPSAoMSA8PCBlYml0cykgLSAxOwogICAgZiA9IDA7CiAgICBzID0gdiA8IDAgPyAxIDogMDsKICB9IGVsc2UgaWYgKHYgPT09IDApIHsKICAgIGUgPSAwOwogICAgZiA9IDA7CiAgICBzID0gMSAvIHYgPT09IC1JbmZpbml0eSA/IDEgOiAwOwogIH0gZWxzZSB7CiAgICBzID0gdiA8IDA7CiAgICB2ID0gYWJzKHYpOwoKICAgIGlmICh2ID49IHBvdygyLCAxIC0gYmlhcykpIHsKICAgICAgZSA9IG1pbihmbG9vcihsb2codikgLyBMTjIpLCAxMDIzKTsKICAgICAgZiA9IHJvdW5kVG9FdmVuKHYgLyBwb3coMiwgZSkgKiBwb3coMiwgZmJpdHMpKTsKCiAgICAgIGlmIChmIC8gcG93KDIsIGZiaXRzKSA+PSAyKSB7CiAgICAgICAgZSA9IGUgKyAxOwogICAgICAgIGYgPSAxOwogICAgICB9CgogICAgICBpZiAoZSA+IGJpYXMpIHsKICAgICAgICAvLyBPdmVyZmxvdwogICAgICAgIGUgPSAoMSA8PCBlYml0cykgLSAxOwogICAgICAgIGYgPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIE5vcm1hbGl6ZWQKICAgICAgICBlID0gZSArIGJpYXM7CiAgICAgICAgZiA9IGYgLSBwb3coMiwgZmJpdHMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyBEZW5vcm1hbGl6ZWQKICAgICAgZSA9IDA7CiAgICAgIGYgPSByb3VuZFRvRXZlbih2IC8gcG93KDIsIDEgLSBiaWFzIC0gZmJpdHMpKTsKICAgIH0KICB9IC8vIFBhY2sgc2lnbiwgZXhwb25lbnQsIGZyYWN0aW9uCgoKICBiaXRzID0gW107CgogIGZvciAoaSA9IGZiaXRzOyBpOyBpIC09IDEpIHsKICAgIGJpdHMucHVzaChmICUgMiA/IDEgOiAwKTsKICAgIGYgPSBmbG9vcihmIC8gMik7CiAgfQoKICBmb3IgKGkgPSBlYml0czsgaTsgaSAtPSAxKSB7CiAgICBiaXRzLnB1c2goZSAlIDIgPyAxIDogMCk7CiAgICBlID0gZmxvb3IoZSAvIDIpOwogIH0KCiAgYml0cy5wdXNoKHMgPyAxIDogMCk7CiAgYml0cy5yZXZlcnNlKCk7CiAgc3RyID0gYml0cy5qb2luKCcnKTsgLy8gQml0cyB0byBieXRlcwoKICBieXRlcyA9IFtdOwoKICB3aGlsZSAoc3RyLmxlbmd0aCkgewogICAgYnl0ZXMucHVzaChwYXJzZUludChzdHIuc3Vic3RyaW5nKDAsIDgpLCAyKSk7CiAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDgpOwogIH0KCiAgcmV0dXJuIGJ5dGVzOwp9CgpmdW5jdGlvbiB1bnBhY2tJRUVFNzU0KGJ5dGVzLCBlYml0cywgZmJpdHMpIHsKICAvLyBCeXRlcyB0byBiaXRzCiAgdmFyIGJpdHMgPSBbXSwKICAgICAgaSwKICAgICAgaiwKICAgICAgYiwKICAgICAgc3RyLAogICAgICBiaWFzLAogICAgICBzLAogICAgICBlLAogICAgICBmOwoKICBmb3IgKGkgPSBieXRlcy5sZW5ndGg7IGk7IGkgLT0gMSkgewogICAgYiA9IGJ5dGVzW2kgLSAxXTsKCiAgICBmb3IgKGogPSA4OyBqOyBqIC09IDEpIHsKICAgICAgYml0cy5wdXNoKGIgJSAyID8gMSA6IDApOwogICAgICBiID0gYiA+PiAxOwogICAgfQogIH0KCiAgYml0cy5yZXZlcnNlKCk7CiAgc3RyID0gYml0cy5qb2luKCcnKTsgLy8gVW5wYWNrIHNpZ24sIGV4cG9uZW50LCBmcmFjdGlvbgoKICBiaWFzID0gKDEgPDwgZWJpdHMgLSAxKSAtIDE7CiAgcyA9IHBhcnNlSW50KHN0ci5zdWJzdHJpbmcoMCwgMSksIDIpID8gLTEgOiAxOwogIGUgPSBwYXJzZUludChzdHIuc3Vic3RyaW5nKDEsIDEgKyBlYml0cyksIDIpOwogIGYgPSBwYXJzZUludChzdHIuc3Vic3RyaW5nKDEgKyBlYml0cyksIDIpOyAvLyBQcm9kdWNlIG51bWJlcgoKICBpZiAoZSA9PT0gKDEgPDwgZWJpdHMpIC0gMSkgewogICAgcmV0dXJuIGYgIT09IDAgPyBOYU4gOiBzICogSW5maW5pdHk7CiAgfSBlbHNlIGlmIChlID4gMCkgewogICAgLy8gTm9ybWFsaXplZAogICAgcmV0dXJuIHMgKiBwb3coMiwgZSAtIGJpYXMpICogKDEgKyBmIC8gcG93KDIsIGZiaXRzKSk7CiAgfSBlbHNlIGlmIChmICE9PSAwKSB7CiAgICAvLyBEZW5vcm1hbGl6ZWQKICAgIHJldHVybiBzICogcG93KDIsIC0oYmlhcyAtIDEpKSAqIChmIC8gcG93KDIsIGZiaXRzKSk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBzIDwgMCA/IC0wIDogMDsKICB9Cn0KCmZ1bmN0aW9uIHVucGFja0Y2NChiKSB7CiAgcmV0dXJuIHVucGFja0lFRUU3NTQoYiwgMTEsIDUyKTsKfQoKZnVuY3Rpb24gcGFja0Y2NCh2KSB7CiAgcmV0dXJuIHBhY2tJRUVFNzU0KHYsIDExLCA1Mik7Cn0KCmZ1bmN0aW9uIHVucGFja0YzMihiKSB7CiAgcmV0dXJuIHVucGFja0lFRUU3NTQoYiwgOCwgMjMpOwp9CgpmdW5jdGlvbiBwYWNrRjMyKHYpIHsKICByZXR1cm4gcGFja0lFRUU3NTQodiwgOCwgMjMpOwp9IC8vCi8vIDMgVGhlIEFycmF5QnVmZmVyIFR5cGUKLy8KCgooZnVuY3Rpb24gKCkgewogIC8qKiBAY29uc3RydWN0b3IgKi8KICB2YXIgQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiBBcnJheUJ1ZmZlcihsZW5ndGgpIHsKICAgIGxlbmd0aCA9IEVDTUFTY3JpcHQuVG9JbnQzMihsZW5ndGgpOwogICAgaWYgKGxlbmd0aCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdBcnJheUJ1ZmZlciBzaXplIGlzIG5vdCBhIHNtYWxsIGVub3VnaCBwb3NpdGl2ZSBpbnRlZ2VyJyk7CiAgICB0aGlzLmJ5dGVMZW5ndGggPSBsZW5ndGg7CiAgICB0aGlzLl9ieXRlcyA9IFtdOwogICAgdGhpcy5fYnl0ZXMubGVuZ3RoID0gbGVuZ3RoOwogICAgdmFyIGk7CgogICAgZm9yIChpID0gMDsgaSA8IHRoaXMuYnl0ZUxlbmd0aDsgaSArPSAxKSB7CiAgICAgIHRoaXMuX2J5dGVzW2ldID0gMDsKICAgIH0KCiAgICBjb25maWd1cmVQcm9wZXJ0aWVzKHRoaXMpOwogIH07CgogIGV4cG9ydHMuQXJyYXlCdWZmZXIgPSBleHBvcnRzLkFycmF5QnVmZmVyIHx8IEFycmF5QnVmZmVyOyAvLwogIC8vIDQgVGhlIEFycmF5QnVmZmVyVmlldyBUeXBlCiAgLy8KICAvLyBOT1RFOiB0aGlzIGNvbnN0cnVjdG9yIGlzIG5vdCBleHBvcnRlZAoKICAvKiogQGNvbnN0cnVjdG9yICovCgogIHZhciBBcnJheUJ1ZmZlclZpZXcgPSBmdW5jdGlvbiBBcnJheUJ1ZmZlclZpZXcoKSB7Ly90aGlzLmJ1ZmZlciA9IG51bGw7CiAgICAvL3RoaXMuYnl0ZU9mZnNldCA9IDA7CiAgICAvL3RoaXMuYnl0ZUxlbmd0aCA9IDA7CiAgfTsgLy8KICAvLyA1IFRoZSBUeXBlZCBBcnJheSBWaWV3IFR5cGVzCiAgLy8KCgogIGZ1bmN0aW9uIG1ha2VDb25zdHJ1Y3RvcihieXRlc1BlckVsZW1lbnQsIHBhY2ssIHVucGFjaykgewogICAgLy8gRWFjaCBUeXBlZEFycmF5IHR5cGUgcmVxdWlyZXMgYSBkaXN0aW5jdCBjb25zdHJ1Y3RvciBpbnN0YW5jZSB3aXRoCiAgICAvLyBpZGVudGljYWwgbG9naWMsIHdoaWNoIHRoaXMgcHJvZHVjZXMuCiAgICB2YXIgY3RvcjsKCiAgICBjdG9yID0gZnVuY3Rpb24gKGJ1ZmZlciwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7CiAgICAgIHZhciBhcnJheSwgc2VxdWVuY2UsIGksIHM7CgogICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGggfHwgdHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ251bWJlcicpIHsKICAgICAgICAvLyBDb25zdHJ1Y3Rvcih1bnNpZ25lZCBsb25nIGxlbmd0aCkKICAgICAgICB0aGlzLmxlbmd0aCA9IEVDTUFTY3JpcHQuVG9JbnQzMihhcmd1bWVudHNbMF0pOwogICAgICAgIGlmIChsZW5ndGggPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXJyYXlCdWZmZXJWaWV3IHNpemUgaXMgbm90IGEgc21hbGwgZW5vdWdoIHBvc2l0aXZlIGludGVnZXInKTsKICAgICAgICB0aGlzLmJ5dGVMZW5ndGggPSB0aGlzLmxlbmd0aCAqIHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7CiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5ieXRlTGVuZ3RoKTsKICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdvYmplY3QnICYmIGFyZ3VtZW50c1swXS5jb25zdHJ1Y3RvciA9PT0gY3RvcikgewogICAgICAgIC8vIENvbnN0cnVjdG9yKFR5cGVkQXJyYXkgYXJyYXkpCiAgICAgICAgYXJyYXkgPSBhcmd1bWVudHNbMF07CiAgICAgICAgdGhpcy5sZW5ndGggPSBhcnJheS5sZW5ndGg7CiAgICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gdGhpcy5sZW5ndGggKiB0aGlzLkJZVEVTX1BFUl9FTEVNRU5UOwogICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuYnl0ZUxlbmd0aCk7CiAgICAgICAgdGhpcy5ieXRlT2Zmc2V0ID0gMDsKCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgIHRoaXMuX3NldHRlcihpLCBhcnJheS5fZ2V0dGVyKGkpKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ29iamVjdCcgJiYgIShhcmd1bWVudHNbMF0gaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBFQ01BU2NyaXB0LkNsYXNzKGFyZ3VtZW50c1swXSkgPT09ICdBcnJheUJ1ZmZlcicpKSB7CiAgICAgICAgLy8gQ29uc3RydWN0b3Ioc2VxdWVuY2U8dHlwZT4gYXJyYXkpCiAgICAgICAgc2VxdWVuY2UgPSBhcmd1bWVudHNbMF07CiAgICAgICAgdGhpcy5sZW5ndGggPSBFQ01BU2NyaXB0LlRvVWludDMyKHNlcXVlbmNlLmxlbmd0aCk7CiAgICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gdGhpcy5sZW5ndGggKiB0aGlzLkJZVEVTX1BFUl9FTEVNRU5UOwogICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuYnl0ZUxlbmd0aCk7CiAgICAgICAgdGhpcy5ieXRlT2Zmc2V0ID0gMDsKCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgIHMgPSBzZXF1ZW5jZVtpXTsKCiAgICAgICAgICB0aGlzLl9zZXR0ZXIoaSwgTnVtYmVyKHMpKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ29iamVjdCcgJiYgKGFyZ3VtZW50c1swXSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IEVDTUFTY3JpcHQuQ2xhc3MoYXJndW1lbnRzWzBdKSA9PT0gJ0FycmF5QnVmZmVyJykpIHsKICAgICAgICAvLyBDb25zdHJ1Y3RvcihBcnJheUJ1ZmZlciBidWZmZXIsCiAgICAgICAgLy8gICAgICAgICAgICAgb3B0aW9uYWwgdW5zaWduZWQgbG9uZyBieXRlT2Zmc2V0LCBvcHRpb25hbCB1bnNpZ25lZCBsb25nIGxlbmd0aCkKICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjsKICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSBFQ01BU2NyaXB0LlRvVWludDMyKGJ5dGVPZmZzZXQpOwoKICAgICAgICBpZiAodGhpcy5ieXRlT2Zmc2V0ID4gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCkgewogICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoImJ5dGVPZmZzZXQgb3V0IG9mIHJhbmdlIik7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5ieXRlT2Zmc2V0ICUgdGhpcy5CWVRFU19QRVJfRUxFTUVOVCkgewogICAgICAgICAgLy8gVGhlIGdpdmVuIGJ5dGVPZmZzZXQgbXVzdCBiZSBhIG11bHRpcGxlIG9mIHRoZSBlbGVtZW50CiAgICAgICAgICAvLyBzaXplIG9mIHRoZSBzcGVjaWZpYyB0eXBlLCBvdGhlcndpc2UgYW4gZXhjZXB0aW9uIGlzIHJhaXNlZC4KICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCJBcnJheUJ1ZmZlciBsZW5ndGggbWludXMgdGhlIGJ5dGVPZmZzZXQgaXMgbm90IGEgbXVsdGlwbGUgb2YgdGhlIGVsZW1lbnQgc2l6ZS4iKTsKICAgICAgICB9CgogICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykgewogICAgICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldDsKCiAgICAgICAgICBpZiAodGhpcy5ieXRlTGVuZ3RoICUgdGhpcy5CWVRFU19QRVJfRUxFTUVOVCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigibGVuZ3RoIG9mIGJ1ZmZlciBtaW51cyBieXRlT2Zmc2V0IG5vdCBhIG11bHRpcGxlIG9mIHRoZSBlbGVtZW50IHNpemUiKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMuYnl0ZUxlbmd0aCAvIHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubGVuZ3RoID0gRUNNQVNjcmlwdC5Ub1VpbnQzMihsZW5ndGgpOwogICAgICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gdGhpcy5sZW5ndGggKiB0aGlzLkJZVEVTX1BFUl9FTEVNRU5UOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuYnl0ZU9mZnNldCArIHRoaXMuYnl0ZUxlbmd0aCA+IHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpIHsKICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCJieXRlT2Zmc2V0IGFuZCBsZW5ndGggcmVmZXJlbmNlIGFuIGFyZWEgYmV5b25kIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlciIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmV4cGVjdGVkIGFyZ3VtZW50IHR5cGUocykiKTsKICAgICAgfQoKICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGN0b3I7CiAgICAgIGNvbmZpZ3VyZVByb3BlcnRpZXModGhpcyk7CiAgICAgIG1ha2VBcnJheUFjY2Vzc29ycyh0aGlzKTsKICAgIH07CgogICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgQXJyYXlCdWZmZXJWaWV3KCk7CiAgICBjdG9yLnByb3RvdHlwZS5CWVRFU19QRVJfRUxFTUVOVCA9IGJ5dGVzUGVyRWxlbWVudDsKICAgIGN0b3IucHJvdG90eXBlLl9wYWNrID0gcGFjazsKICAgIGN0b3IucHJvdG90eXBlLl91bnBhY2sgPSB1bnBhY2s7CiAgICBjdG9yLkJZVEVTX1BFUl9FTEVNRU5UID0gYnl0ZXNQZXJFbGVtZW50OyAvLyBnZXR0ZXIgdHlwZSAodW5zaWduZWQgbG9uZyBpbmRleCk7CgogICAgY3Rvci5wcm90b3R5cGUuX2dldHRlciA9IGZ1bmN0aW9uIChpbmRleCkgewogICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDEpIHRocm93IG5ldyBTeW50YXhFcnJvcigiTm90IGVub3VnaCBhcmd1bWVudHMiKTsKICAgICAgaW5kZXggPSBFQ01BU2NyaXB0LlRvVWludDMyKGluZGV4KTsKCiAgICAgIGlmIChpbmRleCA+PSB0aGlzLmxlbmd0aCkgewogICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgIH0KCiAgICAgIHZhciBieXRlcyA9IFtdLAogICAgICAgICAgaSwKICAgICAgICAgIG87CgogICAgICBmb3IgKGkgPSAwLCBvID0gdGhpcy5ieXRlT2Zmc2V0ICsgaW5kZXggKiB0aGlzLkJZVEVTX1BFUl9FTEVNRU5UOyBpIDwgdGhpcy5CWVRFU19QRVJfRUxFTUVOVDsgaSArPSAxLCBvICs9IDEpIHsKICAgICAgICBieXRlcy5wdXNoKHRoaXMuYnVmZmVyLl9ieXRlc1tvXSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLl91bnBhY2soYnl0ZXMpOwogICAgfTsgLy8gTk9OU1RBTkRBUkQ6IGNvbnZlbmllbmNlIGFsaWFzIGZvciBnZXR0ZXI6IHR5cGUgZ2V0KHVuc2lnbmVkIGxvbmcgaW5kZXgpOwoKCiAgICBjdG9yLnByb3RvdHlwZS5nZXQgPSBjdG9yLnByb3RvdHlwZS5fZ2V0dGVyOyAvLyBzZXR0ZXIgdm9pZCAodW5zaWduZWQgbG9uZyBpbmRleCwgdHlwZSB2YWx1ZSk7CgogICAgY3Rvci5wcm90b3R5cGUuX3NldHRlciA9IGZ1bmN0aW9uIChpbmRleCwgdmFsdWUpIHsKICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB0aHJvdyBuZXcgU3ludGF4RXJyb3IoIk5vdCBlbm91Z2ggYXJndW1lbnRzIik7CiAgICAgIGluZGV4ID0gRUNNQVNjcmlwdC5Ub1VpbnQzMihpbmRleCk7CgogICAgICBpZiAoaW5kZXggPj0gdGhpcy5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICB9CgogICAgICB2YXIgYnl0ZXMgPSB0aGlzLl9wYWNrKHZhbHVlKSwKICAgICAgICAgIGksCiAgICAgICAgICBvOwoKICAgICAgZm9yIChpID0gMCwgbyA9IHRoaXMuYnl0ZU9mZnNldCArIGluZGV4ICogdGhpcy5CWVRFU19QRVJfRUxFTUVOVDsgaSA8IHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7IGkgKz0gMSwgbyArPSAxKSB7CiAgICAgICAgdGhpcy5idWZmZXIuX2J5dGVzW29dID0gYnl0ZXNbaV07CiAgICAgIH0KICAgIH07IC8vIHZvaWQgc2V0KFR5cGVkQXJyYXkgYXJyYXksIG9wdGlvbmFsIHVuc2lnbmVkIGxvbmcgb2Zmc2V0KTsKICAgIC8vIHZvaWQgc2V0KHNlcXVlbmNlPHR5cGU+IGFycmF5LCBvcHRpb25hbCB1bnNpZ25lZCBsb25nIG9mZnNldCk7CgoKICAgIGN0b3IucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChpbmRleCwgdmFsdWUpIHsKICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSB0aHJvdyBuZXcgU3ludGF4RXJyb3IoIk5vdCBlbm91Z2ggYXJndW1lbnRzIik7CiAgICAgIHZhciBhcnJheSwgc2VxdWVuY2UsIG9mZnNldCwgbGVuLCBpLCBzLCBkLCBieXRlT2Zmc2V0LCBieXRlTGVuZ3RoLCB0bXA7CgogICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ29iamVjdCcgJiYgYXJndW1lbnRzWzBdLmNvbnN0cnVjdG9yID09PSB0aGlzLmNvbnN0cnVjdG9yKSB7CiAgICAgICAgLy8gdm9pZCBzZXQoVHlwZWRBcnJheSBhcnJheSwgb3B0aW9uYWwgdW5zaWduZWQgbG9uZyBvZmZzZXQpOwogICAgICAgIGFycmF5ID0gYXJndW1lbnRzWzBdOwogICAgICAgIG9mZnNldCA9IEVDTUFTY3JpcHQuVG9VaW50MzIoYXJndW1lbnRzWzFdKTsKCiAgICAgICAgaWYgKG9mZnNldCArIGFycmF5Lmxlbmd0aCA+IHRoaXMubGVuZ3RoKSB7CiAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigiT2Zmc2V0IHBsdXMgbGVuZ3RoIG9mIGFycmF5IGlzIG91dCBvZiByYW5nZSIpOwogICAgICAgIH0KCiAgICAgICAgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldCArIG9mZnNldCAqIHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7CiAgICAgICAgYnl0ZUxlbmd0aCA9IGFycmF5Lmxlbmd0aCAqIHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7CgogICAgICAgIGlmIChhcnJheS5idWZmZXIgPT09IHRoaXMuYnVmZmVyKSB7CiAgICAgICAgICB0bXAgPSBbXTsKCiAgICAgICAgICBmb3IgKGkgPSAwLCBzID0gYXJyYXkuYnl0ZU9mZnNldDsgaSA8IGJ5dGVMZW5ndGg7IGkgKz0gMSwgcyArPSAxKSB7CiAgICAgICAgICAgIHRtcFtpXSA9IGFycmF5LmJ1ZmZlci5fYnl0ZXNbc107CiAgICAgICAgICB9CgogICAgICAgICAgZm9yIChpID0gMCwgZCA9IGJ5dGVPZmZzZXQ7IGkgPCBieXRlTGVuZ3RoOyBpICs9IDEsIGQgKz0gMSkgewogICAgICAgICAgICB0aGlzLmJ1ZmZlci5fYnl0ZXNbZF0gPSB0bXBbaV07CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZvciAoaSA9IDAsIHMgPSBhcnJheS5ieXRlT2Zmc2V0LCBkID0gYnl0ZU9mZnNldDsgaSA8IGJ5dGVMZW5ndGg7IGkgKz0gMSwgcyArPSAxLCBkICs9IDEpIHsKICAgICAgICAgICAgdGhpcy5idWZmZXIuX2J5dGVzW2RdID0gYXJyYXkuYnVmZmVyLl9ieXRlc1tzXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGFyZ3VtZW50c1swXS5sZW5ndGggIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgLy8gdm9pZCBzZXQoc2VxdWVuY2U8dHlwZT4gYXJyYXksIG9wdGlvbmFsIHVuc2lnbmVkIGxvbmcgb2Zmc2V0KTsKICAgICAgICBzZXF1ZW5jZSA9IGFyZ3VtZW50c1swXTsKICAgICAgICBsZW4gPSBFQ01BU2NyaXB0LlRvVWludDMyKHNlcXVlbmNlLmxlbmd0aCk7CiAgICAgICAgb2Zmc2V0ID0gRUNNQVNjcmlwdC5Ub1VpbnQzMihhcmd1bWVudHNbMV0pOwoKICAgICAgICBpZiAob2Zmc2V0ICsgbGVuID4gdGhpcy5sZW5ndGgpIHsKICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCJPZmZzZXQgcGx1cyBsZW5ndGggb2YgYXJyYXkgaXMgb3V0IG9mIHJhbmdlIik7CiAgICAgICAgfQoKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHsKICAgICAgICAgIHMgPSBzZXF1ZW5jZVtpXTsKCiAgICAgICAgICB0aGlzLl9zZXR0ZXIob2Zmc2V0ICsgaSwgTnVtYmVyKHMpKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5leHBlY3RlZCBhcmd1bWVudCB0eXBlKHMpIik7CiAgICAgIH0KICAgIH07IC8vIFR5cGVkQXJyYXkgc3ViYXJyYXkobG9uZyBiZWdpbiwgb3B0aW9uYWwgbG9uZyBlbmQpOwoKCiAgICBjdG9yLnByb3RvdHlwZS5zdWJhcnJheSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7CiAgICAgIGZ1bmN0aW9uIGNsYW1wKHYsIG1pbiwgbWF4KSB7CiAgICAgICAgcmV0dXJuIHYgPCBtaW4gPyBtaW4gOiB2ID4gbWF4ID8gbWF4IDogdjsKICAgICAgfQoKICAgICAgc3RhcnQgPSBFQ01BU2NyaXB0LlRvSW50MzIoc3RhcnQpOwogICAgICBlbmQgPSBFQ01BU2NyaXB0LlRvSW50MzIoZW5kKTsKCiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMSkgewogICAgICAgIHN0YXJ0ID0gMDsKICAgICAgfQoKICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7CiAgICAgICAgZW5kID0gdGhpcy5sZW5ndGg7CiAgICAgIH0KCiAgICAgIGlmIChzdGFydCA8IDApIHsKICAgICAgICBzdGFydCA9IHRoaXMubGVuZ3RoICsgc3RhcnQ7CiAgICAgIH0KCiAgICAgIGlmIChlbmQgPCAwKSB7CiAgICAgICAgZW5kID0gdGhpcy5sZW5ndGggKyBlbmQ7CiAgICAgIH0KCiAgICAgIHN0YXJ0ID0gY2xhbXAoc3RhcnQsIDAsIHRoaXMubGVuZ3RoKTsKICAgICAgZW5kID0gY2xhbXAoZW5kLCAwLCB0aGlzLmxlbmd0aCk7CiAgICAgIHZhciBsZW4gPSBlbmQgLSBzdGFydDsKCiAgICAgIGlmIChsZW4gPCAwKSB7CiAgICAgICAgbGVuID0gMDsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuYnVmZmVyLCB0aGlzLmJ5dGVPZmZzZXQgKyBzdGFydCAqIHRoaXMuQllURVNfUEVSX0VMRU1FTlQsIGxlbik7CiAgICB9OwoKICAgIHJldHVybiBjdG9yOwogIH0KCiAgdmFyIEludDhBcnJheSA9IG1ha2VDb25zdHJ1Y3RvcigxLCBwYWNrSTgsIHVucGFja0k4KTsKICB2YXIgVWludDhBcnJheSA9IG1ha2VDb25zdHJ1Y3RvcigxLCBwYWNrVTgsIHVucGFja1U4KTsKICB2YXIgVWludDhDbGFtcGVkQXJyYXkgPSBtYWtlQ29uc3RydWN0b3IoMSwgcGFja1U4Q2xhbXBlZCwgdW5wYWNrVTgpOwogIHZhciBJbnQxNkFycmF5ID0gbWFrZUNvbnN0cnVjdG9yKDIsIHBhY2tJMTYsIHVucGFja0kxNik7CiAgdmFyIFVpbnQxNkFycmF5ID0gbWFrZUNvbnN0cnVjdG9yKDIsIHBhY2tVMTYsIHVucGFja1UxNik7CiAgdmFyIEludDMyQXJyYXkgPSBtYWtlQ29uc3RydWN0b3IoNCwgcGFja0kzMiwgdW5wYWNrSTMyKTsKICB2YXIgVWludDMyQXJyYXkgPSBtYWtlQ29uc3RydWN0b3IoNCwgcGFja1UzMiwgdW5wYWNrVTMyKTsKICB2YXIgRmxvYXQzMkFycmF5ID0gbWFrZUNvbnN0cnVjdG9yKDQsIHBhY2tGMzIsIHVucGFja0YzMik7CiAgdmFyIEZsb2F0NjRBcnJheSA9IG1ha2VDb25zdHJ1Y3Rvcig4LCBwYWNrRjY0LCB1bnBhY2tGNjQpOwogIGV4cG9ydHMuSW50OEFycmF5ID0gZXhwb3J0cy5JbnQ4QXJyYXkgfHwgSW50OEFycmF5OwogIGV4cG9ydHMuVWludDhBcnJheSA9IGV4cG9ydHMuVWludDhBcnJheSB8fCBVaW50OEFycmF5OwogIGV4cG9ydHMuVWludDhDbGFtcGVkQXJyYXkgPSBleHBvcnRzLlVpbnQ4Q2xhbXBlZEFycmF5IHx8IFVpbnQ4Q2xhbXBlZEFycmF5OwogIGV4cG9ydHMuSW50MTZBcnJheSA9IGV4cG9ydHMuSW50MTZBcnJheSB8fCBJbnQxNkFycmF5OwogIGV4cG9ydHMuVWludDE2QXJyYXkgPSBleHBvcnRzLlVpbnQxNkFycmF5IHx8IFVpbnQxNkFycmF5OwogIGV4cG9ydHMuSW50MzJBcnJheSA9IGV4cG9ydHMuSW50MzJBcnJheSB8fCBJbnQzMkFycmF5OwogIGV4cG9ydHMuVWludDMyQXJyYXkgPSBleHBvcnRzLlVpbnQzMkFycmF5IHx8IFVpbnQzMkFycmF5OwogIGV4cG9ydHMuRmxvYXQzMkFycmF5ID0gZXhwb3J0cy5GbG9hdDMyQXJyYXkgfHwgRmxvYXQzMkFycmF5OwogIGV4cG9ydHMuRmxvYXQ2NEFycmF5ID0gZXhwb3J0cy5GbG9hdDY0QXJyYXkgfHwgRmxvYXQ2NEFycmF5Owp9KSgpOyAvLwovLyA2IFRoZSBEYXRhVmlldyBWaWV3IFR5cGUKLy8KCgooZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIHIoYXJyYXksIGluZGV4KSB7CiAgICByZXR1cm4gRUNNQVNjcmlwdC5Jc0NhbGxhYmxlKGFycmF5LmdldCkgPyBhcnJheS5nZXQoaW5kZXgpIDogYXJyYXlbaW5kZXhdOwogIH0KCiAgdmFyIElTX0JJR19FTkRJQU4gPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdTE2YXJyYXkgPSBuZXcgZXhwb3J0cy5VaW50MTZBcnJheShbMHgxMjM0XSksCiAgICAgICAgdThhcnJheSA9IG5ldyBleHBvcnRzLlVpbnQ4QXJyYXkodTE2YXJyYXkuYnVmZmVyKTsKICAgIHJldHVybiByKHU4YXJyYXksIDApID09PSAweDEyOwogIH0oKTsgLy8gQ29uc3RydWN0b3IoQXJyYXlCdWZmZXIgYnVmZmVyLAogIC8vICAgICAgICAgICAgIG9wdGlvbmFsIHVuc2lnbmVkIGxvbmcgYnl0ZU9mZnNldCwKICAvLyAgICAgICAgICAgICBvcHRpb25hbCB1bnNpZ25lZCBsb25nIGJ5dGVMZW5ndGgpCgogIC8qKiBAY29uc3RydWN0b3IgKi8KCgogIHZhciBEYXRhVmlldyA9IGZ1bmN0aW9uIERhdGFWaWV3KGJ1ZmZlciwgYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHsKICAgICAgYnVmZmVyID0gbmV3IGV4cG9ydHMuQXJyYXlCdWZmZXIoMCk7CiAgICB9IGVsc2UgaWYgKCEoYnVmZmVyIGluc3RhbmNlb2YgZXhwb3J0cy5BcnJheUJ1ZmZlciB8fCBFQ01BU2NyaXB0LkNsYXNzKGJ1ZmZlcikgPT09ICdBcnJheUJ1ZmZlcicpKSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIlR5cGVFcnJvciIpOwogICAgfQoKICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyIHx8IG5ldyBleHBvcnRzLkFycmF5QnVmZmVyKDApOwogICAgdGhpcy5ieXRlT2Zmc2V0ID0gRUNNQVNjcmlwdC5Ub1VpbnQzMihieXRlT2Zmc2V0KTsKCiAgICBpZiAodGhpcy5ieXRlT2Zmc2V0ID4gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCkgewogICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigiYnl0ZU9mZnNldCBvdXQgb2YgcmFuZ2UiKTsKICAgIH0KCiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHsKICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldDsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuYnl0ZUxlbmd0aCA9IEVDTUFTY3JpcHQuVG9VaW50MzIoYnl0ZUxlbmd0aCk7CiAgICB9CgogICAgaWYgKHRoaXMuYnl0ZU9mZnNldCArIHRoaXMuYnl0ZUxlbmd0aCA+IHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpIHsKICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoImJ5dGVPZmZzZXQgYW5kIGxlbmd0aCByZWZlcmVuY2UgYW4gYXJlYSBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgYnVmZmVyIik7CiAgICB9CgogICAgY29uZmlndXJlUHJvcGVydGllcyh0aGlzKTsKICB9OwoKICBmdW5jdGlvbiBtYWtlR2V0dGVyKGFycmF5VHlwZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHsKICAgICAgYnl0ZU9mZnNldCA9IEVDTUFTY3JpcHQuVG9VaW50MzIoYnl0ZU9mZnNldCk7CgogICAgICBpZiAoYnl0ZU9mZnNldCArIGFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVCA+IHRoaXMuYnl0ZUxlbmd0aCkgewogICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCJBcnJheSBpbmRleCBvdXQgb2YgcmFuZ2UiKTsKICAgICAgfQoKICAgICAgYnl0ZU9mZnNldCArPSB0aGlzLmJ5dGVPZmZzZXQ7CiAgICAgIHZhciB1aW50OEFycmF5ID0gbmV3IGV4cG9ydHMuVWludDhBcnJheSh0aGlzLmJ1ZmZlciwgYnl0ZU9mZnNldCwgYXJyYXlUeXBlLkJZVEVTX1BFUl9FTEVNRU5UKSwKICAgICAgICAgIGJ5dGVzID0gW10sCiAgICAgICAgICBpOwoKICAgICAgZm9yIChpID0gMDsgaSA8IGFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVDsgaSArPSAxKSB7CiAgICAgICAgYnl0ZXMucHVzaChyKHVpbnQ4QXJyYXksIGkpKTsKICAgICAgfQoKICAgICAgaWYgKEJvb2xlYW4obGl0dGxlRW5kaWFuKSA9PT0gQm9vbGVhbihJU19CSUdfRU5ESUFOKSkgewogICAgICAgIGJ5dGVzLnJldmVyc2UoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHIobmV3IGFycmF5VHlwZShuZXcgZXhwb3J0cy5VaW50OEFycmF5KGJ5dGVzKS5idWZmZXIpLCAwKTsKICAgIH07CiAgfQoKICBEYXRhVmlldy5wcm90b3R5cGUuZ2V0VWludDggPSBtYWtlR2V0dGVyKGV4cG9ydHMuVWludDhBcnJheSk7CiAgRGF0YVZpZXcucHJvdG90eXBlLmdldEludDggPSBtYWtlR2V0dGVyKGV4cG9ydHMuSW50OEFycmF5KTsKICBEYXRhVmlldy5wcm90b3R5cGUuZ2V0VWludDE2ID0gbWFrZUdldHRlcihleHBvcnRzLlVpbnQxNkFycmF5KTsKICBEYXRhVmlldy5wcm90b3R5cGUuZ2V0SW50MTYgPSBtYWtlR2V0dGVyKGV4cG9ydHMuSW50MTZBcnJheSk7CiAgRGF0YVZpZXcucHJvdG90eXBlLmdldFVpbnQzMiA9IG1ha2VHZXR0ZXIoZXhwb3J0cy5VaW50MzJBcnJheSk7CiAgRGF0YVZpZXcucHJvdG90eXBlLmdldEludDMyID0gbWFrZUdldHRlcihleHBvcnRzLkludDMyQXJyYXkpOwogIERhdGFWaWV3LnByb3RvdHlwZS5nZXRGbG9hdDMyID0gbWFrZUdldHRlcihleHBvcnRzLkZsb2F0MzJBcnJheSk7CiAgRGF0YVZpZXcucHJvdG90eXBlLmdldEZsb2F0NjQgPSBtYWtlR2V0dGVyKGV4cG9ydHMuRmxvYXQ2NEFycmF5KTsKCiAgZnVuY3Rpb24gbWFrZVNldHRlcihhcnJheVR5cGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoYnl0ZU9mZnNldCwgdmFsdWUsIGxpdHRsZUVuZGlhbikgewogICAgICBieXRlT2Zmc2V0ID0gRUNNQVNjcmlwdC5Ub1VpbnQzMihieXRlT2Zmc2V0KTsKCiAgICAgIGlmIChieXRlT2Zmc2V0ICsgYXJyYXlUeXBlLkJZVEVTX1BFUl9FTEVNRU5UID4gdGhpcy5ieXRlTGVuZ3RoKSB7CiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkFycmF5IGluZGV4IG91dCBvZiByYW5nZSIpOwogICAgICB9IC8vIEdldCBieXRlcwoKCiAgICAgIHZhciB0eXBlQXJyYXkgPSBuZXcgYXJyYXlUeXBlKFt2YWx1ZV0pLAogICAgICAgICAgYnl0ZUFycmF5ID0gbmV3IGV4cG9ydHMuVWludDhBcnJheSh0eXBlQXJyYXkuYnVmZmVyKSwKICAgICAgICAgIGJ5dGVzID0gW10sCiAgICAgICAgICBpLAogICAgICAgICAgYnl0ZVZpZXc7CgogICAgICBmb3IgKGkgPSAwOyBpIDwgYXJyYXlUeXBlLkJZVEVTX1BFUl9FTEVNRU5UOyBpICs9IDEpIHsKICAgICAgICBieXRlcy5wdXNoKHIoYnl0ZUFycmF5LCBpKSk7CiAgICAgIH0gLy8gRmxpcCBpZiBuZWNlc3NhcnkKCgogICAgICBpZiAoQm9vbGVhbihsaXR0bGVFbmRpYW4pID09PSBCb29sZWFuKElTX0JJR19FTkRJQU4pKSB7CiAgICAgICAgYnl0ZXMucmV2ZXJzZSgpOwogICAgICB9IC8vIFdyaXRlIHRoZW0KCgogICAgICBieXRlVmlldyA9IG5ldyBleHBvcnRzLlVpbnQ4QXJyYXkodGhpcy5idWZmZXIsIGJ5dGVPZmZzZXQsIGFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVCk7CiAgICAgIGJ5dGVWaWV3LnNldChieXRlcyk7CiAgICB9OwogIH0KCiAgRGF0YVZpZXcucHJvdG90eXBlLnNldFVpbnQ4ID0gbWFrZVNldHRlcihleHBvcnRzLlVpbnQ4QXJyYXkpOwogIERhdGFWaWV3LnByb3RvdHlwZS5zZXRJbnQ4ID0gbWFrZVNldHRlcihleHBvcnRzLkludDhBcnJheSk7CiAgRGF0YVZpZXcucHJvdG90eXBlLnNldFVpbnQxNiA9IG1ha2VTZXR0ZXIoZXhwb3J0cy5VaW50MTZBcnJheSk7CiAgRGF0YVZpZXcucHJvdG90eXBlLnNldEludDE2ID0gbWFrZVNldHRlcihleHBvcnRzLkludDE2QXJyYXkpOwogIERhdGFWaWV3LnByb3RvdHlwZS5zZXRVaW50MzIgPSBtYWtlU2V0dGVyKGV4cG9ydHMuVWludDMyQXJyYXkpOwogIERhdGFWaWV3LnByb3RvdHlwZS5zZXRJbnQzMiA9IG1ha2VTZXR0ZXIoZXhwb3J0cy5JbnQzMkFycmF5KTsKICBEYXRhVmlldy5wcm90b3R5cGUuc2V0RmxvYXQzMiA9IG1ha2VTZXR0ZXIoZXhwb3J0cy5GbG9hdDMyQXJyYXkpOwogIERhdGFWaWV3LnByb3RvdHlwZS5zZXRGbG9hdDY0ID0gbWFrZVNldHRlcihleHBvcnRzLkZsb2F0NjRBcnJheSk7CiAgZXhwb3J0cy5EYXRhVmlldyA9IGV4cG9ydHMuRGF0YVZpZXcgfHwgRGF0YVZpZXc7Cn0pKCk7"},{"version":3,"sources":["/Users/scott.ward/Documents/GitHub/my-first-bundle/node_modules/typedarray/index.js"],"names":["undefined","MAX_ARRAY_LENGTH","ECMAScript","opts","Object","prototype","toString","ophop","hasOwnProperty","Class","v","call","replace","HasProperty","o","p","HasOwnProperty","IsCallable","ToInt32","ToUint32","LN2","Math","abs","floor","log","min","pow","round","configureProperties","obj","getOwnPropNames","defineProp","props","i","length","value","writable","enumerable","configurable","defineProperty","e","desc","TypeError","__defineGetter__","get","__defineSetter__","set","getOwnPropertyNames","push","makeArrayAccessors","RangeError","makeArrayAccessor","index","_getter","_setter","as_signed","bits","s","as_unsigned","packI8","n","unpackI8","bytes","packU8","unpackU8","packU8Clamped","Number","packI16","unpackI16","packU16","unpackU16","packI32","unpackI32","packU32","unpackU32","packIEEE754","ebits","fbits","bias","f","ln","str","roundToEven","w","Infinity","reverse","join","parseInt","substring","unpackIEEE754","j","b","NaN","unpackF64","packF64","unpackF32","packF32","ArrayBuffer","byteLength","_bytes","exports","ArrayBufferView","makeConstructor","bytesPerElement","pack","unpack","ctor","buffer","byteOffset","array","sequence","arguments","BYTES_PER_ELEMENT","constructor","_pack","_unpack","SyntaxError","offset","len","d","tmp","subarray","start","end","clamp","max","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","r","IS_BIG_ENDIAN","u16array","u8array","DataView","makeGetter","arrayType","littleEndian","uint8Array","Boolean","getUint8","getInt8","getUint16","getInt16","getUint32","getInt32","getFloat32","getFloat64","makeSetter","typeArray","byteArray","byteView","setUint8","setInt8","setUint16","setInt16","setUint32","setInt32","setFloat32","setFloat64"],"mappings":"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","sourcesContent":["var undefined = (void 0); // Paranoia\n\n// Beyond this value, index getters/setters (i.e. array[0], array[1]) are so slow to\n// create, and consume so much memory, that the browser appears frozen.\nvar MAX_ARRAY_LENGTH = 1e5;\n\n// Approximations of internal ECMAScript conversion functions\nvar ECMAScript = (function() {\n  // Stash a copy in case other scripts modify these\n  var opts = Object.prototype.toString,\n      ophop = Object.prototype.hasOwnProperty;\n\n  return {\n    // Class returns internal [[Class]] property, used to avoid cross-frame instanceof issues:\n    Class: function(v) { return opts.call(v).replace(/^\\[object *|\\]$/g, ''); },\n    HasProperty: function(o, p) { return p in o; },\n    HasOwnProperty: function(o, p) { return ophop.call(o, p); },\n    IsCallable: function(o) { return typeof o === 'function'; },\n    ToInt32: function(v) { return v >> 0; },\n    ToUint32: function(v) { return v >>> 0; }\n  };\n}());\n\n// Snapshot intrinsics\nvar LN2 = Math.LN2,\n    abs = Math.abs,\n    floor = Math.floor,\n    log = Math.log,\n    min = Math.min,\n    pow = Math.pow,\n    round = Math.round;\n\n// ES5: lock down object properties\nfunction configureProperties(obj) {\n  if (getOwnPropNames && defineProp) {\n    var props = getOwnPropNames(obj), i;\n    for (i = 0; i < props.length; i += 1) {\n      defineProp(obj, props[i], {\n        value: obj[props[i]],\n        writable: false,\n        enumerable: false,\n        configurable: false\n      });\n    }\n  }\n}\n\n// emulate ES5 getter/setter API using legacy APIs\n// http://blogs.msdn.com/b/ie/archive/2010/09/07/transitioning-existing-code-to-the-es5-getter-setter-apis.aspx\n// (second clause tests for Object.defineProperty() in IE<9 that only supports extending DOM prototypes, but\n// note that IE<9 does not support __defineGetter__ or __defineSetter__ so it just renders the method harmless)\nvar defineProp\nif (Object.defineProperty && (function() {\n      try {\n        Object.defineProperty({}, 'x', {});\n        return true;\n      } catch (e) {\n        return false;\n      }\n    })()) {\n  defineProp = Object.defineProperty;\n} else {\n  defineProp = function(o, p, desc) {\n    if (!o === Object(o)) throw new TypeError(\"Object.defineProperty called on non-object\");\n    if (ECMAScript.HasProperty(desc, 'get') && Object.prototype.__defineGetter__) { Object.prototype.__defineGetter__.call(o, p, desc.get); }\n    if (ECMAScript.HasProperty(desc, 'set') && Object.prototype.__defineSetter__) { Object.prototype.__defineSetter__.call(o, p, desc.set); }\n    if (ECMAScript.HasProperty(desc, 'value')) { o[p] = desc.value; }\n    return o;\n  };\n}\n\nvar getOwnPropNames = Object.getOwnPropertyNames || function (o) {\n  if (o !== Object(o)) throw new TypeError(\"Object.getOwnPropertyNames called on non-object\");\n  var props = [], p;\n  for (p in o) {\n    if (ECMAScript.HasOwnProperty(o, p)) {\n      props.push(p);\n    }\n  }\n  return props;\n};\n\n// ES5: Make obj[index] an alias for obj._getter(index)/obj._setter(index, value)\n// for index in 0 ... obj.length\nfunction makeArrayAccessors(obj) {\n  if (!defineProp) { return; }\n\n  if (obj.length > MAX_ARRAY_LENGTH) throw new RangeError(\"Array too large for polyfill\");\n\n  function makeArrayAccessor(index) {\n    defineProp(obj, index, {\n      'get': function() { return obj._getter(index); },\n      'set': function(v) { obj._setter(index, v); },\n      enumerable: true,\n      configurable: false\n    });\n  }\n\n  var i;\n  for (i = 0; i < obj.length; i += 1) {\n    makeArrayAccessor(i);\n  }\n}\n\n// Internal conversion functions:\n//    pack<Type>()   - take a number (interpreted as Type), output a byte array\n//    unpack<Type>() - take a byte array, output a Type-like number\n\nfunction as_signed(value, bits) { var s = 32 - bits; return (value << s) >> s; }\nfunction as_unsigned(value, bits) { var s = 32 - bits; return (value << s) >>> s; }\n\nfunction packI8(n) { return [n & 0xff]; }\nfunction unpackI8(bytes) { return as_signed(bytes[0], 8); }\n\nfunction packU8(n) { return [n & 0xff]; }\nfunction unpackU8(bytes) { return as_unsigned(bytes[0], 8); }\n\nfunction packU8Clamped(n) { n = round(Number(n)); return [n < 0 ? 0 : n > 0xff ? 0xff : n & 0xff]; }\n\nfunction packI16(n) { return [(n >> 8) & 0xff, n & 0xff]; }\nfunction unpackI16(bytes) { return as_signed(bytes[0] << 8 | bytes[1], 16); }\n\nfunction packU16(n) { return [(n >> 8) & 0xff, n & 0xff]; }\nfunction unpackU16(bytes) { return as_unsigned(bytes[0] << 8 | bytes[1], 16); }\n\nfunction packI32(n) { return [(n >> 24) & 0xff, (n >> 16) & 0xff, (n >> 8) & 0xff, n & 0xff]; }\nfunction unpackI32(bytes) { return as_signed(bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3], 32); }\n\nfunction packU32(n) { return [(n >> 24) & 0xff, (n >> 16) & 0xff, (n >> 8) & 0xff, n & 0xff]; }\nfunction unpackU32(bytes) { return as_unsigned(bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3], 32); }\n\nfunction packIEEE754(v, ebits, fbits) {\n\n  var bias = (1 << (ebits - 1)) - 1,\n      s, e, f, ln,\n      i, bits, str, bytes;\n\n  function roundToEven(n) {\n    var w = floor(n), f = n - w;\n    if (f < 0.5)\n      return w;\n    if (f > 0.5)\n      return w + 1;\n    return w % 2 ? w + 1 : w;\n  }\n\n  // Compute sign, exponent, fraction\n  if (v !== v) {\n    // NaN\n    // http://dev.w3.org/2006/webapi/WebIDL/#es-type-mapping\n    e = (1 << ebits) - 1; f = pow(2, fbits - 1); s = 0;\n  } else if (v === Infinity || v === -Infinity) {\n    e = (1 << ebits) - 1; f = 0; s = (v < 0) ? 1 : 0;\n  } else if (v === 0) {\n    e = 0; f = 0; s = (1 / v === -Infinity) ? 1 : 0;\n  } else {\n    s = v < 0;\n    v = abs(v);\n\n    if (v >= pow(2, 1 - bias)) {\n      e = min(floor(log(v) / LN2), 1023);\n      f = roundToEven(v / pow(2, e) * pow(2, fbits));\n      if (f / pow(2, fbits) >= 2) {\n        e = e + 1;\n        f = 1;\n      }\n      if (e > bias) {\n        // Overflow\n        e = (1 << ebits) - 1;\n        f = 0;\n      } else {\n        // Normalized\n        e = e + bias;\n        f = f - pow(2, fbits);\n      }\n    } else {\n      // Denormalized\n      e = 0;\n      f = roundToEven(v / pow(2, 1 - bias - fbits));\n    }\n  }\n\n  // Pack sign, exponent, fraction\n  bits = [];\n  for (i = fbits; i; i -= 1) { bits.push(f % 2 ? 1 : 0); f = floor(f / 2); }\n  for (i = ebits; i; i -= 1) { bits.push(e % 2 ? 1 : 0); e = floor(e / 2); }\n  bits.push(s ? 1 : 0);\n  bits.reverse();\n  str = bits.join('');\n\n  // Bits to bytes\n  bytes = [];\n  while (str.length) {\n    bytes.push(parseInt(str.substring(0, 8), 2));\n    str = str.substring(8);\n  }\n  return bytes;\n}\n\nfunction unpackIEEE754(bytes, ebits, fbits) {\n\n  // Bytes to bits\n  var bits = [], i, j, b, str,\n      bias, s, e, f;\n\n  for (i = bytes.length; i; i -= 1) {\n    b = bytes[i - 1];\n    for (j = 8; j; j -= 1) {\n      bits.push(b % 2 ? 1 : 0); b = b >> 1;\n    }\n  }\n  bits.reverse();\n  str = bits.join('');\n\n  // Unpack sign, exponent, fraction\n  bias = (1 << (ebits - 1)) - 1;\n  s = parseInt(str.substring(0, 1), 2) ? -1 : 1;\n  e = parseInt(str.substring(1, 1 + ebits), 2);\n  f = parseInt(str.substring(1 + ebits), 2);\n\n  // Produce number\n  if (e === (1 << ebits) - 1) {\n    return f !== 0 ? NaN : s * Infinity;\n  } else if (e > 0) {\n    // Normalized\n    return s * pow(2, e - bias) * (1 + f / pow(2, fbits));\n  } else if (f !== 0) {\n    // Denormalized\n    return s * pow(2, -(bias - 1)) * (f / pow(2, fbits));\n  } else {\n    return s < 0 ? -0 : 0;\n  }\n}\n\nfunction unpackF64(b) { return unpackIEEE754(b, 11, 52); }\nfunction packF64(v) { return packIEEE754(v, 11, 52); }\nfunction unpackF32(b) { return unpackIEEE754(b, 8, 23); }\nfunction packF32(v) { return packIEEE754(v, 8, 23); }\n\n\n//\n// 3 The ArrayBuffer Type\n//\n\n(function() {\n\n  /** @constructor */\n  var ArrayBuffer = function ArrayBuffer(length) {\n    length = ECMAScript.ToInt32(length);\n    if (length < 0) throw new RangeError('ArrayBuffer size is not a small enough positive integer');\n\n    this.byteLength = length;\n    this._bytes = [];\n    this._bytes.length = length;\n\n    var i;\n    for (i = 0; i < this.byteLength; i += 1) {\n      this._bytes[i] = 0;\n    }\n\n    configureProperties(this);\n  };\n\n  exports.ArrayBuffer = exports.ArrayBuffer || ArrayBuffer;\n\n  //\n  // 4 The ArrayBufferView Type\n  //\n\n  // NOTE: this constructor is not exported\n  /** @constructor */\n  var ArrayBufferView = function ArrayBufferView() {\n    //this.buffer = null;\n    //this.byteOffset = 0;\n    //this.byteLength = 0;\n  };\n\n  //\n  // 5 The Typed Array View Types\n  //\n\n  function makeConstructor(bytesPerElement, pack, unpack) {\n    // Each TypedArray type requires a distinct constructor instance with\n    // identical logic, which this produces.\n\n    var ctor;\n    ctor = function(buffer, byteOffset, length) {\n      var array, sequence, i, s;\n\n      if (!arguments.length || typeof arguments[0] === 'number') {\n        // Constructor(unsigned long length)\n        this.length = ECMAScript.ToInt32(arguments[0]);\n        if (length < 0) throw new RangeError('ArrayBufferView size is not a small enough positive integer');\n\n        this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        this.buffer = new ArrayBuffer(this.byteLength);\n        this.byteOffset = 0;\n      } else if (typeof arguments[0] === 'object' && arguments[0].constructor === ctor) {\n        // Constructor(TypedArray array)\n        array = arguments[0];\n\n        this.length = array.length;\n        this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        this.buffer = new ArrayBuffer(this.byteLength);\n        this.byteOffset = 0;\n\n        for (i = 0; i < this.length; i += 1) {\n          this._setter(i, array._getter(i));\n        }\n      } else if (typeof arguments[0] === 'object' &&\n                 !(arguments[0] instanceof ArrayBuffer || ECMAScript.Class(arguments[0]) === 'ArrayBuffer')) {\n        // Constructor(sequence<type> array)\n        sequence = arguments[0];\n\n        this.length = ECMAScript.ToUint32(sequence.length);\n        this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        this.buffer = new ArrayBuffer(this.byteLength);\n        this.byteOffset = 0;\n\n        for (i = 0; i < this.length; i += 1) {\n          s = sequence[i];\n          this._setter(i, Number(s));\n        }\n      } else if (typeof arguments[0] === 'object' &&\n                 (arguments[0] instanceof ArrayBuffer || ECMAScript.Class(arguments[0]) === 'ArrayBuffer')) {\n        // Constructor(ArrayBuffer buffer,\n        //             optional unsigned long byteOffset, optional unsigned long length)\n        this.buffer = buffer;\n\n        this.byteOffset = ECMAScript.ToUint32(byteOffset);\n        if (this.byteOffset > this.buffer.byteLength) {\n          throw new RangeError(\"byteOffset out of range\");\n        }\n\n        if (this.byteOffset % this.BYTES_PER_ELEMENT) {\n          // The given byteOffset must be a multiple of the element\n          // size of the specific type, otherwise an exception is raised.\n          throw new RangeError(\"ArrayBuffer length minus the byteOffset is not a multiple of the element size.\");\n        }\n\n        if (arguments.length < 3) {\n          this.byteLength = this.buffer.byteLength - this.byteOffset;\n\n          if (this.byteLength % this.BYTES_PER_ELEMENT) {\n            throw new RangeError(\"length of buffer minus byteOffset not a multiple of the element size\");\n          }\n          this.length = this.byteLength / this.BYTES_PER_ELEMENT;\n        } else {\n          this.length = ECMAScript.ToUint32(length);\n          this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        }\n\n        if ((this.byteOffset + this.byteLength) > this.buffer.byteLength) {\n          throw new RangeError(\"byteOffset and length reference an area beyond the end of the buffer\");\n        }\n      } else {\n        throw new TypeError(\"Unexpected argument type(s)\");\n      }\n\n      this.constructor = ctor;\n\n      configureProperties(this);\n      makeArrayAccessors(this);\n    };\n\n    ctor.prototype = new ArrayBufferView();\n    ctor.prototype.BYTES_PER_ELEMENT = bytesPerElement;\n    ctor.prototype._pack = pack;\n    ctor.prototype._unpack = unpack;\n    ctor.BYTES_PER_ELEMENT = bytesPerElement;\n\n    // getter type (unsigned long index);\n    ctor.prototype._getter = function(index) {\n      if (arguments.length < 1) throw new SyntaxError(\"Not enough arguments\");\n\n      index = ECMAScript.ToUint32(index);\n      if (index >= this.length) {\n        return undefined;\n      }\n\n      var bytes = [], i, o;\n      for (i = 0, o = this.byteOffset + index * this.BYTES_PER_ELEMENT;\n           i < this.BYTES_PER_ELEMENT;\n           i += 1, o += 1) {\n        bytes.push(this.buffer._bytes[o]);\n      }\n      return this._unpack(bytes);\n    };\n\n    // NONSTANDARD: convenience alias for getter: type get(unsigned long index);\n    ctor.prototype.get = ctor.prototype._getter;\n\n    // setter void (unsigned long index, type value);\n    ctor.prototype._setter = function(index, value) {\n      if (arguments.length < 2) throw new SyntaxError(\"Not enough arguments\");\n\n      index = ECMAScript.ToUint32(index);\n      if (index >= this.length) {\n        return undefined;\n      }\n\n      var bytes = this._pack(value), i, o;\n      for (i = 0, o = this.byteOffset + index * this.BYTES_PER_ELEMENT;\n           i < this.BYTES_PER_ELEMENT;\n           i += 1, o += 1) {\n        this.buffer._bytes[o] = bytes[i];\n      }\n    };\n\n    // void set(TypedArray array, optional unsigned long offset);\n    // void set(sequence<type> array, optional unsigned long offset);\n    ctor.prototype.set = function(index, value) {\n      if (arguments.length < 1) throw new SyntaxError(\"Not enough arguments\");\n      var array, sequence, offset, len,\n          i, s, d,\n          byteOffset, byteLength, tmp;\n\n      if (typeof arguments[0] === 'object' && arguments[0].constructor === this.constructor) {\n        // void set(TypedArray array, optional unsigned long offset);\n        array = arguments[0];\n        offset = ECMAScript.ToUint32(arguments[1]);\n\n        if (offset + array.length > this.length) {\n          throw new RangeError(\"Offset plus length of array is out of range\");\n        }\n\n        byteOffset = this.byteOffset + offset * this.BYTES_PER_ELEMENT;\n        byteLength = array.length * this.BYTES_PER_ELEMENT;\n\n        if (array.buffer === this.buffer) {\n          tmp = [];\n          for (i = 0, s = array.byteOffset; i < byteLength; i += 1, s += 1) {\n            tmp[i] = array.buffer._bytes[s];\n          }\n          for (i = 0, d = byteOffset; i < byteLength; i += 1, d += 1) {\n            this.buffer._bytes[d] = tmp[i];\n          }\n        } else {\n          for (i = 0, s = array.byteOffset, d = byteOffset;\n               i < byteLength; i += 1, s += 1, d += 1) {\n            this.buffer._bytes[d] = array.buffer._bytes[s];\n          }\n        }\n      } else if (typeof arguments[0] === 'object' && typeof arguments[0].length !== 'undefined') {\n        // void set(sequence<type> array, optional unsigned long offset);\n        sequence = arguments[0];\n        len = ECMAScript.ToUint32(sequence.length);\n        offset = ECMAScript.ToUint32(arguments[1]);\n\n        if (offset + len > this.length) {\n          throw new RangeError(\"Offset plus length of array is out of range\");\n        }\n\n        for (i = 0; i < len; i += 1) {\n          s = sequence[i];\n          this._setter(offset + i, Number(s));\n        }\n      } else {\n        throw new TypeError(\"Unexpected argument type(s)\");\n      }\n    };\n\n    // TypedArray subarray(long begin, optional long end);\n    ctor.prototype.subarray = function(start, end) {\n      function clamp(v, min, max) { return v < min ? min : v > max ? max : v; }\n\n      start = ECMAScript.ToInt32(start);\n      end = ECMAScript.ToInt32(end);\n\n      if (arguments.length < 1) { start = 0; }\n      if (arguments.length < 2) { end = this.length; }\n\n      if (start < 0) { start = this.length + start; }\n      if (end < 0) { end = this.length + end; }\n\n      start = clamp(start, 0, this.length);\n      end = clamp(end, 0, this.length);\n\n      var len = end - start;\n      if (len < 0) {\n        len = 0;\n      }\n\n      return new this.constructor(\n        this.buffer, this.byteOffset + start * this.BYTES_PER_ELEMENT, len);\n    };\n\n    return ctor;\n  }\n\n  var Int8Array = makeConstructor(1, packI8, unpackI8);\n  var Uint8Array = makeConstructor(1, packU8, unpackU8);\n  var Uint8ClampedArray = makeConstructor(1, packU8Clamped, unpackU8);\n  var Int16Array = makeConstructor(2, packI16, unpackI16);\n  var Uint16Array = makeConstructor(2, packU16, unpackU16);\n  var Int32Array = makeConstructor(4, packI32, unpackI32);\n  var Uint32Array = makeConstructor(4, packU32, unpackU32);\n  var Float32Array = makeConstructor(4, packF32, unpackF32);\n  var Float64Array = makeConstructor(8, packF64, unpackF64);\n\n  exports.Int8Array = exports.Int8Array || Int8Array;\n  exports.Uint8Array = exports.Uint8Array || Uint8Array;\n  exports.Uint8ClampedArray = exports.Uint8ClampedArray || Uint8ClampedArray;\n  exports.Int16Array = exports.Int16Array || Int16Array;\n  exports.Uint16Array = exports.Uint16Array || Uint16Array;\n  exports.Int32Array = exports.Int32Array || Int32Array;\n  exports.Uint32Array = exports.Uint32Array || Uint32Array;\n  exports.Float32Array = exports.Float32Array || Float32Array;\n  exports.Float64Array = exports.Float64Array || Float64Array;\n}());\n\n//\n// 6 The DataView View Type\n//\n\n(function() {\n  function r(array, index) {\n    return ECMAScript.IsCallable(array.get) ? array.get(index) : array[index];\n  }\n\n  var IS_BIG_ENDIAN = (function() {\n    var u16array = new(exports.Uint16Array)([0x1234]),\n        u8array = new(exports.Uint8Array)(u16array.buffer);\n    return r(u8array, 0) === 0x12;\n  }());\n\n  // Constructor(ArrayBuffer buffer,\n  //             optional unsigned long byteOffset,\n  //             optional unsigned long byteLength)\n  /** @constructor */\n  var DataView = function DataView(buffer, byteOffset, byteLength) {\n    if (arguments.length === 0) {\n      buffer = new exports.ArrayBuffer(0);\n    } else if (!(buffer instanceof exports.ArrayBuffer || ECMAScript.Class(buffer) === 'ArrayBuffer')) {\n      throw new TypeError(\"TypeError\");\n    }\n\n    this.buffer = buffer || new exports.ArrayBuffer(0);\n\n    this.byteOffset = ECMAScript.ToUint32(byteOffset);\n    if (this.byteOffset > this.buffer.byteLength) {\n      throw new RangeError(\"byteOffset out of range\");\n    }\n\n    if (arguments.length < 3) {\n      this.byteLength = this.buffer.byteLength - this.byteOffset;\n    } else {\n      this.byteLength = ECMAScript.ToUint32(byteLength);\n    }\n\n    if ((this.byteOffset + this.byteLength) > this.buffer.byteLength) {\n      throw new RangeError(\"byteOffset and length reference an area beyond the end of the buffer\");\n    }\n\n    configureProperties(this);\n  };\n\n  function makeGetter(arrayType) {\n    return function(byteOffset, littleEndian) {\n\n      byteOffset = ECMAScript.ToUint32(byteOffset);\n\n      if (byteOffset + arrayType.BYTES_PER_ELEMENT > this.byteLength) {\n        throw new RangeError(\"Array index out of range\");\n      }\n      byteOffset += this.byteOffset;\n\n      var uint8Array = new exports.Uint8Array(this.buffer, byteOffset, arrayType.BYTES_PER_ELEMENT),\n          bytes = [], i;\n      for (i = 0; i < arrayType.BYTES_PER_ELEMENT; i += 1) {\n        bytes.push(r(uint8Array, i));\n      }\n\n      if (Boolean(littleEndian) === Boolean(IS_BIG_ENDIAN)) {\n        bytes.reverse();\n      }\n\n      return r(new arrayType(new exports.Uint8Array(bytes).buffer), 0);\n    };\n  }\n\n  DataView.prototype.getUint8 = makeGetter(exports.Uint8Array);\n  DataView.prototype.getInt8 = makeGetter(exports.Int8Array);\n  DataView.prototype.getUint16 = makeGetter(exports.Uint16Array);\n  DataView.prototype.getInt16 = makeGetter(exports.Int16Array);\n  DataView.prototype.getUint32 = makeGetter(exports.Uint32Array);\n  DataView.prototype.getInt32 = makeGetter(exports.Int32Array);\n  DataView.prototype.getFloat32 = makeGetter(exports.Float32Array);\n  DataView.prototype.getFloat64 = makeGetter(exports.Float64Array);\n\n  function makeSetter(arrayType) {\n    return function(byteOffset, value, littleEndian) {\n\n      byteOffset = ECMAScript.ToUint32(byteOffset);\n      if (byteOffset + arrayType.BYTES_PER_ELEMENT > this.byteLength) {\n        throw new RangeError(\"Array index out of range\");\n      }\n\n      // Get bytes\n      var typeArray = new arrayType([value]),\n          byteArray = new exports.Uint8Array(typeArray.buffer),\n          bytes = [], i, byteView;\n\n      for (i = 0; i < arrayType.BYTES_PER_ELEMENT; i += 1) {\n        bytes.push(r(byteArray, i));\n      }\n\n      // Flip if necessary\n      if (Boolean(littleEndian) === Boolean(IS_BIG_ENDIAN)) {\n        bytes.reverse();\n      }\n\n      // Write them\n      byteView = new exports.Uint8Array(this.buffer, byteOffset, arrayType.BYTES_PER_ELEMENT);\n      byteView.set(bytes);\n    };\n  }\n\n  DataView.prototype.setUint8 = makeSetter(exports.Uint8Array);\n  DataView.prototype.setInt8 = makeSetter(exports.Int8Array);\n  DataView.prototype.setUint16 = makeSetter(exports.Uint16Array);\n  DataView.prototype.setInt16 = makeSetter(exports.Int16Array);\n  DataView.prototype.setUint32 = makeSetter(exports.Uint32Array);\n  DataView.prototype.setInt32 = makeSetter(exports.Int32Array);\n  DataView.prototype.setFloat32 = makeSetter(exports.Float32Array);\n  DataView.prototype.setFloat64 = makeSetter(exports.Float64Array);\n\n  exports.DataView = exports.DataView || DataView;\n\n}());\n"]}]}